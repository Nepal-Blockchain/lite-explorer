!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};e[n].call(i.exports,i,i.exports,r);i.l=!0;return i.exports}r.m=e;r.c=t;r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})};r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};r.t=function(e,t){1&t&&(e=r(e));if(8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);r.r(n);Object.defineProperty(n,"default",{enumerable:!0,value:e});if(2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n};r.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};r.d(t,"a",t);return t};r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};r.p="/";r(r.s="FojF")}({"/Qos":function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window;var i=Function.prototype.apply;t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)};t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){e&&e.close()};function o(e,t){this._id=e;this._clearFn=t}o.prototype.unref=o.prototype.ref=function(){};o.prototype.close=function(){this._clearFn.call(n,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function t(){e._onTimeout&&e._onTimeout()},t))};r("gIIS");t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate;t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("fRV1"))},F63i:function(e,t){var r=e.exports={};var n;var i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var c=[];var f=!1;var l;var h=-1;function d(){if(!f||!l)return;f=!1;l.length?c=l.concat(c):h=-1;c.length&&p()}function p(){if(f)return;var e=s(d);f=!0;var t=c.length;for(;t;){l=c;c=[];for(;++h<t;)l&&l[h].run();h=-1;t=c.length}l=null;f=!1;u(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t));1!==c.length||f||s(p)};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=!0;r.env={};r.argv=[];r.version="";r.versions={};function v(){}r.on=v;r.addListener=v;r.once=v;r.off=v;r.removeListener=v;r.removeAllListeners=v;r.emit=v;r.prependListener=v;r.prependOnceListener=v;r.listeners=function(e){return[]};r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},FojF:function(e,t,r){"use strict";r.r(t);var n;var i=new(function(){function e(){this.listeners=[];this.unexpectedErrorHandler=function(e){setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})};e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e);this.emit(e)};e.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)};return e}());function o(e){c(e)||i.onUnexpectedError(e);return}function a(e){c(e)||i.onUnexpectedExternalError(e);return}function s(e){if(e instanceof Error){var t,r;var n;return{$isError:!0,name:e.name,message:e.message,stack:e.stacktrace||e.stack}}return e}var u="Canceled";function c(e){return e instanceof Error&&e.name===u&&e.message===u}function f(){var e=new Error(u);e.name=e.message;return e}function l(e){return e?new Error("Illegal argument: "+e):new Error("Illegal argument")}function h(e){return e?new Error("Illegal state: "+e):new Error("Illegal state")}function d(e){return"function"==typeof e.dispose&&0===e.dispose.length}function p(e){var t=[];for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Array.isArray(e)){e.forEach(function(e){return e&&e.dispose()});return[]}if(0===t.length){if(e){e.dispose();return e}return}p(e);p(t);return[]}function m(e){return{dispose:function(){return p(e)}}}function v(e){return{dispose:function(){e()}}}var g=function(){function e(){this._toDispose=[];this._lifecycle_disposable_isDisposed=!1}e.prototype.dispose=function(){this._lifecycle_disposable_isDisposed=!0;this._toDispose=p(this._toDispose)};e.prototype._register=function(e){if(this._lifecycle_disposable_isDisposed){console.warn("Registering disposable on object that has already been disposed.");e.dispose()}else this._toDispose.push(e);return e};e.None=Object.freeze({dispose:function(){}});return e}();var y=function(){function e(e){this.object=e}e.prototype.dispose=function(){};return e}();var b=r("SMqw");var _={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function C(e){if(Array.isArray)return Array.isArray(e);if(e&&typeof e.length===_.number&&e.constructor===Array)return!0;return!1}function S(e){if(typeof e===_.string||e instanceof String)return!0;return!1}function E(e){return!(typeof e!==_.object||null===e||Array.isArray(e)||e instanceof RegExp||e instanceof Date)}function A(e){if((typeof e===_.number||e instanceof Number)&&!isNaN(e))return!0;return!1}function x(e){return!0===e||!1===e}function N(e){return typeof e===_.undefined}function w(e){return N(e)||null===e}var L=Object.prototype.hasOwnProperty;function T(e){if(!E(e))return!1;for(var t in e)if(L.call(e,t))return!1;return!0}function k(e){return typeof e===_.function}function O(e,t){var r=Math.min(e.length,t.length);for(var n=0;n<r;n++)I(e[n],t[n])}function I(e,t){if(S(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof "+t)}else if(k(t)){try{if(e instanceof t)return}catch(e){}if(!w(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function P(e){var t=[];for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n;if(M(e))return new((n=e).bind.apply(n,[void 0].concat(t)));var i=Object.create(e.prototype);e.apply(i,t);return i}function M(e){return"function"==typeof e&&e.hasOwnProperty("prototype")&&!e.hasOwnProperty("arguments")}function F(e){var t=[];var r=Object.getPrototypeOf(e);for(;Object.prototype!==r;){t=t.concat(Object.getOwnPropertyNames(r));r=Object.getPrototypeOf(r)}return t}var R=(j=function(e,t){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){j(e,t);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});var j;var D="$initialize";var V=!1;function U(e){if(!b["b"])return;if(!V){V=!0;console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")}console.warn(e.message)}var q=function(){function e(e){this._workerId=-1;this._handler=e;this._lastSentReq=0;this._pendingReplies=Object.create(null)}e.prototype.setWorkerId=function(e){this._workerId=e};e.prototype.sendMessage=function(e,t){var r=this;var n=String(++this._lastSentReq);return new Promise(function(i,o){r._pendingReplies[n]={resolve:i,reject:o};r._send({vsWorker:r._workerId,req:n,method:e,args:t})})};e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){return}if(!t||!t.vsWorker)return;if(-1!==this._workerId&&t.vsWorker!==this._workerId)return;this._handleMessage(t)};e.prototype._handleMessage=function(e){var t=this;if(e.seq){var r=e;if(!this._pendingReplies[r.seq]){console.warn("Got reply to unknown seq");return}var n=this._pendingReplies[r.seq];delete this._pendingReplies[r.seq];if(r.err){var i=r.err;if(r.err.$isError){(i=new Error).name=r.err.name;i.message=r.err.message;i.stack=r.err.stack}n.reject(i);return}n.resolve(r.res);return}var o=e;var a=o.req;var u;this._handler.handleMessage(o.method,o.args).then(function(e){t._send({vsWorker:t._workerId,seq:a,res:e,err:void 0})},function(e){e.detail instanceof Error&&(e.detail=s(e.detail));t._send({vsWorker:t._workerId,seq:a,res:void 0,err:s(e)})})};e.prototype._send=function(e){var t=JSON.stringify(e);this._handler.sendMessage(t)};return e}();var K=function(e){R(t,e);function t(t,r){var n=e.call(this)||this;var i=null;n._worker=n._register(t.create("vs/base/common/worker/simpleWorker",function(e){n._protocol.handleMessage(e)},function(e){i&&i(e)}));n._protocol=new q({sendMessage:function(e){n._worker.postMessage(e)},handleMessage:function(e,t){return Promise.resolve(null)}});n._protocol.setWorkerId(n._worker.getId());var o=null;void 0!==self.require&&"function"==typeof self.require.getConfig?o=self.require.getConfig():void 0!==self.requirejs&&(o=self.requirejs.s.contexts._.config);n._onModuleLoaded=n._protocol.sendMessage(D,[n._worker.getId(),r,o]);n._lazyProxy=new Promise(function(e,t){i=t;n._onModuleLoaded.then(function(t){var r={};for(var n=0,i=t;n<i.length;n++){var o=i[n];r[o]=s(o,a)}e(r)},function(e){t(e);n._onError("Worker failed to load "+r,e)})});var a=function(e,t){return n._request(e,t)};var s=function(e,t){return function(){var r=Array.prototype.slice.call(arguments,0);return t(e,r)}};return n}t.prototype.getProxyObject=function(){return this._lazyProxy};t.prototype._request=function(e,t){var r=this;return new Promise(function(n,i){r._onModuleLoaded.then(function(){r._protocol.sendMessage(e,t).then(n,i)},i)})};t.prototype._onError=function(e,t){console.error(e);console.info(t)};return t}(g);var B=function(){function e(e,t){var r=this;this._requestHandler=t;this._protocol=new q({sendMessage:function(t){e(t)},handleMessage:function(e,t){return r._handleMessage(e,t)}})}e.prototype.onmessage=function(e){this._protocol.handleMessage(e)};e.prototype._handleMessage=function(e,t){if(e===D)return this.initialize(t[0],t[1],t[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._requestHandler[e].apply(this._requestHandler,t))}catch(e){return Promise.reject(e)}};e.prototype.initialize=function(e,t,r){var n=this;this._protocol.setWorkerId(e);if(this._requestHandler){var i=[];for(var o=0,a=F(this._requestHandler);o<a.length;o++){var s=a[o];"function"==typeof this._requestHandler[s]&&i.push(s)}return Promise.resolve(i)}if(r){void 0!==r.baseUrl&&delete r["baseUrl"];void 0!==r.paths&&void 0!==r.paths.vs&&delete r.paths["vs"];r.catchError=!0;self.require.config(r)}return new Promise(function(e,r){self.require([t],function(){var t=[];for(var i=0;i<arguments.length;i++)t[i]=arguments[i];var o=t[0];n._requestHandler=o.create();if(!n._requestHandler){r(new Error("No RequestHandler!"));return}var a=[];for(var s=0,u=F(n._requestHandler);s<u.length;s++){var c=u[s];"function"==typeof n._requestHandler[c]&&a.push(c)}e(a)},r)})};return e}();function W(e){return new B(e,null)}function $(e,t){void 0===t&&(t=0);return e[e.length-(1+t)]}function Y(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function H(e,t,r){void 0===r&&(r=function(e,t){return e===t});if(e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!r(e[n],t[n]))return!1;return!0}function z(e,t,r){var n=0,i=e.length-1;for(;n<=i;){var o=(n+i)/2|0;var a=r(e[o],t);if(a<0)n=o+1;else{if(!(a>0))return o;i=o-1}}return-(n+1)}function G(e,t){var r=0,n=e.length;if(0===n)return 0;for(;r<n;){var i=Math.floor((r+n)/2);t(e[i])?n=i:r=i+1}return r}function J(e,t){X(e,t,0,e.length-1,[]);return e}function Q(e,t,r,n,i,o){var a=r,s=n+1;for(var u=r;u<=i;u++)o[u]=e[u];for(var u=r;u<=i;u++)a>n?e[u]=o[s++]:s>i?e[u]=o[a++]:t(o[s],o[a])<0?e[u]=o[s++]:e[u]=o[a++]}function X(e,t,r,n,i){if(n<=r)return;var o=r+(n-r)/2|0;X(e,t,r,o,i);X(e,t,o+1,n,i);if(t(e[o],e[o+1])<=0)return;Q(e,t,r,o,n,i)}function Z(e,t){var r=[];var n=void 0;for(var i=0,o=J(e.slice(0),t);i<o.length;i++){var a=o[i];if(n&&0===t(n[0],a))n.push(a);else{n=[a];r.push(n)}}return r}function ee(e){if(!e)return e;return e.filter(function(e){return!!e})}function te(e){return!Array.isArray(e)||0===e.length}function re(e){return Array.isArray(e)&&e.length>0}function ne(e,t){if(!t)return e.filter(function(t,r){return e.indexOf(t)===r});var r=Object.create(null);return e.filter(function(e){var n=t(e);if(r[n])return!1;r[n]=!0;return!0})}function ie(e,t){for(var r=0;r<e.length;r++){var n;if(t(e[r]))return r}return-1}function oe(e,t,r){void 0===r&&(r=null);var n=ie(e,t);return n<0?r:e[n]}function ae(e){var t;return(t=[]).concat.apply(t,e)}function se(e,t){var r="number"==typeof t?e:0;if("number"==typeof t)r=e;else{r=0;t=e}var n=[];if(r<=t)for(var i=r;i<t;i++)n.push(i);else for(var i=r;i>t;i--)n.push(i);return n}function ue(e,t,r){var n=e.slice(0,t);var i=e.slice(t);return n.concat(r,i)}var ce=function(){function e(e,t,r,n){this.originalStart=e;this.originalLength=t;this.modifiedStart=r;this.modifiedLength=n}e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength};e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength};return e}();function fe(e){return{getLength:function(){return e.length},getElementAtIndex:function(t){return e.charCodeAt(t)}}}function le(e,t,r){return new ve(fe(e),fe(t)).ComputeDiff(r)}var he=function(){function e(){}e.Assert=function(e,t){if(!e)throw new Error(t)};return e}();var de=function(){function e(){}e.Copy=function(e,t,r,n,i){for(var o=0;o<i;o++)r[n+o]=e[t+o]};return e}();var pe=1447;var me=function(){function e(){this.m_changes=[];this.m_originalStart=Number.MAX_VALUE;this.m_modifiedStart=Number.MAX_VALUE;this.m_originalCount=0;this.m_modifiedCount=0}e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new ce(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount));this.m_originalCount=0;this.m_modifiedCount=0;this.m_originalStart=Number.MAX_VALUE;this.m_modifiedStart=Number.MAX_VALUE};e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e);this.m_modifiedStart=Math.min(this.m_modifiedStart,t);this.m_originalCount++};e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e);this.m_modifiedStart=Math.min(this.m_modifiedStart,t);this.m_modifiedCount++};e.prototype.getChanges=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange();return this.m_changes};e.prototype.getReverseChanges=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange();this.m_changes.reverse();return this.m_changes};return e}();var ve=function(){function e(e,t,r){void 0===r&&(r=null);this.OriginalSequence=e;this.ModifiedSequence=t;this.ContinueProcessingPredicate=r;this.m_forwardHistory=[];this.m_reverseHistory=[]}e.prototype.ElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)};e.prototype.OriginalElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.OriginalSequence.getElementAtIndex(t)};e.prototype.ModifiedElementsAreEqual=function(e,t){return this.ModifiedSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)};e.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,e)};e.prototype._ComputeDiff=function(e,t,r,n,i){var o=[!1];var a=this.ComputeDiffRecursive(e,t,r,n,o);if(i)return this.PrettifyChanges(a);return a};e.prototype.ComputeDiffRecursive=function(e,t,r,n,i){i[0]=!1;for(;e<=t&&r<=n&&this.ElementsAreEqual(e,r);){e++;r++}for(;t>=e&&n>=r&&this.ElementsAreEqual(t,n);){t--;n--}if(e>t||r>n){var o=void 0;if(r<=n){he.Assert(e===t+1,"originalStart should only be one more than originalEnd");o=[new ce(e,0,r,n-r+1)]}else if(e<=t){he.Assert(r===n+1,"modifiedStart should only be one more than modifiedEnd");o=[new ce(e,t-e+1,r,0)]}else{he.Assert(e===t+1,"originalStart should only be one more than originalEnd");he.Assert(r===n+1,"modifiedStart should only be one more than modifiedEnd");o=[]}return o}var a=[0],s=[0];var u=this.ComputeRecursionPoint(e,t,r,n,a,s,i);var c=a[0];var f=s[0];if(null!==u)return u;if(!i[0]){var l=this.ComputeDiffRecursive(e,c,r,f,i);var h=[];h=i[0]?[new ce(c+1,t-(c+1)+1,f+1,n-(f+1)+1)]:this.ComputeDiffRecursive(c+1,t,f+1,n,i);return this.ConcatenateChanges(l,h)}return[new ce(e,t-e+1,r,n-r+1)]};e.prototype.WALKTRACE=function(e,t,r,n,i,o,a,s,u,c,f,l,h,d,p,m,v,g){var y=null,b=null;var _=new me;var C=t;var S=r;var E=h[0]-m[0]-n;var A=Number.MIN_VALUE;var x=this.m_forwardHistory.length-1;var N;do{if((N=E+e)===C||N<S&&u[N-1]<u[N+1]){d=(f=u[N+1])-E-n;f<A&&_.MarkNextChange();A=f;_.AddModifiedElement(f+1,d);E=N+1-e}else{d=(f=u[N-1]+1)-E-n;f<A&&_.MarkNextChange();A=f-1;_.AddOriginalElement(f,d+1);E=N-1-e}if(x>=0){e=(u=this.m_forwardHistory[x])[0];C=1;S=u.length-1}}while(--x>=-1);y=_.getReverseChanges();if(g[0]){var w=h[0]+1;var L=m[0]+1;if(null!==y&&y.length>0){var T=y[y.length-1];w=Math.max(w,T.getOriginalEnd());L=Math.max(L,T.getModifiedEnd())}b=[new ce(w,l-w+1,L,p-L+1)]}else{_=new me;C=o;S=a;E=h[0]-m[0]-s;A=Number.MAX_VALUE;x=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{if((N=E+i)===C||N<S&&c[N-1]>=c[N+1]){d=(f=c[N+1]-1)-E-s;f>A&&_.MarkNextChange();A=f+1;_.AddOriginalElement(f+1,d+1);E=N+1-i}else{d=(f=c[N-1])-E-s;f>A&&_.MarkNextChange();A=f;_.AddModifiedElement(f+1,d+1);E=N-1-i}if(x>=0){i=(c=this.m_reverseHistory[x])[0];C=1;S=c.length-1}}while(--x>=-1);b=_.getChanges()}return this.ConcatenateChanges(y,b)};e.prototype.ComputeRecursionPoint=function(e,t,r,n,i,o,a){var s=0,u=0;var c=0,f=0;var l=0,h=0;var d;e--;r--;i[0]=0;o[0]=0;this.m_forwardHistory=[];this.m_reverseHistory=[];var p=t-e+(n-r);var m=p+1;var v=new Array(m);var g=new Array(m);var y=n-r;var b=t-e;var _=e-r;var C=t-n;var S;var E=(b-y)%2==0;v[y]=e;g[b]=t;a[0]=!1;var A,x;for(d=1;d<=p/2+1;d++){var N=0;var w=0;c=this.ClipDiagonalBound(y-d,d,y,m);f=this.ClipDiagonalBound(y+d,d,y,m);for(A=c;A<=f;A+=2){u=(s=A===c||A<f&&v[A-1]<v[A+1]?v[A+1]:v[A-1]+1)-(A-y)-_;x=s;for(;s<t&&u<n&&this.ElementsAreEqual(s+1,u+1);){s++;u++}v[A]=s;if(s+u>N+w){N=s;w=u}if(!E&&Math.abs(A-b)<=d-1&&s>=g[A]){i[0]=s;o[0]=u;return x<=g[A]&&d<=1448?this.WALKTRACE(y,c,f,_,b,l,h,C,v,g,s,t,i,u,n,o,E,a):null}}var L=(N-e+(w-r)-d)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(N,this.OriginalSequence,L)){a[0]=!0;i[0]=N;o[0]=w;return L>0&&d<=1448?this.WALKTRACE(y,c,f,_,b,l,h,C,v,g,s,t,i,u,n,o,E,a):[new ce(++e,t-e+1,++r,n-r+1)]}l=this.ClipDiagonalBound(b-d,d,b,m);h=this.ClipDiagonalBound(b+d,d,b,m);for(A=l;A<=h;A+=2){u=(s=A===l||A<h&&g[A-1]>=g[A+1]?g[A+1]-1:g[A-1])-(A-b)-C;x=s;for(;s>e&&u>r&&this.ElementsAreEqual(s,u);){s--;u--}g[A]=s;if(E&&Math.abs(A-y)<=d&&s<=v[A]){i[0]=s;o[0]=u;return x>=v[A]&&d<=1448?this.WALKTRACE(y,c,f,_,b,l,h,C,v,g,s,t,i,u,n,o,E,a):null}}if(d<=1447){var T=new Array(f-c+2);T[0]=y-c+1;de.Copy(v,c,T,1,f-c+1);this.m_forwardHistory.push(T);(T=new Array(h-l+2))[0]=b-l+1;de.Copy(g,l,T,1,h-l+1);this.m_reverseHistory.push(T)}}return this.WALKTRACE(y,c,f,_,b,l,h,C,v,g,s,t,i,u,n,o,E,a)};e.prototype.PrettifyChanges=function(e){for(var t=0;t<e.length;t++){var r=e[t];var n=t<e.length-1?e[t+1].originalStart:this.OriginalSequence.getLength();var i=t<e.length-1?e[t+1].modifiedStart:this.ModifiedSequence.getLength();var o=r.originalLength>0;var a=r.modifiedLength>0;for(;r.originalStart+r.originalLength<n&&r.modifiedStart+r.modifiedLength<i&&(!o||this.OriginalElementsAreEqual(r.originalStart,r.originalStart+r.originalLength))&&(!a||this.ModifiedElementsAreEqual(r.modifiedStart,r.modifiedStart+r.modifiedLength));){r.originalStart++;r.modifiedStart++}var s=[null];if(t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],s)){e[t]=s[0];e.splice(t+1,1);t--;continue}}for(var t=e.length-1;t>=0;t--){var r=e[t];var n=0;var i=0;if(t>0){var u=e[t-1];u.originalLength>0&&(n=u.originalStart+u.originalLength);u.modifiedLength>0&&(i=u.modifiedStart+u.modifiedLength)}var o=r.originalLength>0;var a=r.modifiedLength>0;var c=0;var f=this._boundaryScore(r.originalStart,r.originalLength,r.modifiedStart,r.modifiedLength);for(var l=1;;l++){var h=r.originalStart-l;var d=r.modifiedStart-l;if(h<n||d<i)break;if(o&&!this.OriginalElementsAreEqual(h,h+r.originalLength))break;if(a&&!this.ModifiedElementsAreEqual(d,d+r.modifiedLength))break;var p=this._boundaryScore(h,r.originalLength,d,r.modifiedLength);if(p>f){f=p;c=l}}r.originalStart-=c;r.modifiedStart-=c}return e};e.prototype._OriginalIsBoundary=function(e){if(e<=0||e>=this.OriginalSequence.getLength()-1)return!0;var t=this.OriginalSequence.getElementAtIndex(e);return"string"==typeof t&&/^\s*$/.test(t)};e.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){var r=e+t;if(this._OriginalIsBoundary(r-1)||this._OriginalIsBoundary(r))return!0}return!1};e.prototype._ModifiedIsBoundary=function(e){if(e<=0||e>=this.ModifiedSequence.getLength()-1)return!0;var t=this.ModifiedSequence.getElementAtIndex(e);return"string"==typeof t&&/^\s*$/.test(t)};e.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){var r=e+t;if(this._ModifiedIsBoundary(r-1)||this._ModifiedIsBoundary(r))return!0}return!1};e.prototype._boundaryScore=function(e,t,r,n){var i;var o;return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(r,n)?1:0)};e.prototype.ConcatenateChanges=function(e,t){var r=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],r)){var n=new Array(e.length+t.length-1);de.Copy(e,0,n,0,e.length-1);n[e.length-1]=r[0];de.Copy(t,1,n,e.length,t.length-1);return n}var n=new Array(e.length+t.length);de.Copy(e,0,n,0,e.length);de.Copy(t,0,n,e.length,t.length);return n};e.prototype.ChangesOverlap=function(e,t,r){he.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change");he.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change");if(e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var n=e.originalStart;var i=e.originalLength;var o=e.modifiedStart;var a=e.modifiedLength;e.originalStart+e.originalLength>=t.originalStart&&(i=t.originalStart+t.originalLength-e.originalStart);e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(a=t.modifiedStart+t.modifiedLength-e.modifiedStart);r[0]=new ce(n,i,o,a);return!0}r[0]=null;return!1};e.prototype.ClipDiagonalBound=function(e,t,r,n){if(e>=0&&e<n)return e;var i;var o=n-r-1;var a=t%2==0;if(e<0){var s;return a===(r%2==0)?0:1}var u;return a===(o%2==0)?n-1:n-2};return e}();var ge=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var ye={done:!0,value:void 0};var be;!function(e){var t={next:function(){return ye}};function r(){return t}e.empty=r;function n(e,t,r){void 0===t&&(t=0);void 0===r&&(r=e.length);return{next:function(){if(t>=r)return ye;return{done:!1,value:e[t++]}}}}e.fromArray=n;function i(t){return t?Array.isArray(t)?e.fromArray(t):t:e.empty()}e.from=i;function o(e,t){return{next:function(){var r=e.next();return r.done?ye:{done:!1,value:t(r.value)}}}}e.map=o;function a(e,t){return{next:function(){for(;;){var r=e.next();if(r.done)return ye;if(t(r.value))return{done:!1,value:r.value}}}}}e.filter=a;function s(e,t){for(var r=e.next();!r.done;r=e.next())t(r.value)}e.forEach=s;function u(e){var t=[];s(e,function(e){return t.push(e)});return t}e.collect=u}(be||(be={}));function _e(e){return Array.isArray(e)?be.fromArray(e):e}var Ce;var Se=function(e){ge(t,e);function t(t,r,n,i){void 0===r&&(r=0);void 0===n&&(n=t.length);void 0===i&&(i=r-1);return e.call(this,t,r,n,i)||this}t.prototype.current=function(){return e.prototype.current.call(this)};t.prototype.previous=function(){this.index=Math.max(this.index-1,this.start-1);return this.current()};t.prototype.first=function(){this.index=this.start;return this.current()};t.prototype.last=function(){this.index=this.end-1;return this.current()};t.prototype.parent=function(){return null};return t}(function(){function e(e,t,r,n){void 0===t&&(t=0);void 0===r&&(r=e.length);void 0===n&&(n=t-1);this.items=e;this.start=t;this.end=r;this.index=n}e.prototype.next=function(){this.index=Math.min(this.index+1,this.end);return this.current()};e.prototype.current=function(){if(this.index===this.start-1||this.index===this.end)return null;return this.items[this.index]};return e}());var Ee=function(){function e(e,t){this.iterator=e;this.fn=t}e.prototype.next=function(){return this.fn(this.iterator.next())};return e}();var Ae=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var xe;var Ne=/^\w[\w\d+.-]*$/;var we=/^\//;var Le=/^\/\//;var Te=!0;function ke(e,t){if(!e.scheme){if(t||Te)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');console.warn('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}')}if(e.scheme&&!Ne.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!we.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Le.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}function Oe(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Pe&&(t=Pe+t):t=Pe}return t}var Ie="";var Pe="/";var Me=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;var Fe=function(){function e(e,t,r,n,i,o){if("object"==typeof e){this.scheme=e.scheme||Ie;this.authority=e.authority||Ie;this.path=e.path||Ie;this.query=e.query||Ie;this.fragment=e.fragment||Ie}else{this.scheme=e||Ie;this.authority=t||Ie;this.path=Oe(this.scheme,r||Ie);this.query=n||Ie;this.fragment=i||Ie;ke(this,o)}}e.isUri=function(t){if(t instanceof e)return!0;if(!t)return!1;return"string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"function"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString};Object.defineProperty(e.prototype,"fsPath",{get:function(){return Ue(this)},enumerable:!0,configurable:!0});e.prototype.with=function(e){if(!e)return this;var t=e.scheme,r=e.authority,n=e.path,i=e.query,o=e.fragment;void 0===t?t=this.scheme:null===t&&(t=Ie);void 0===r?r=this.authority:null===r&&(r=Ie);void 0===n?n=this.path:null===n&&(n=Ie);void 0===i?i=this.query:null===i&&(i=Ie);void 0===o?o=this.fragment:null===o&&(o=Ie);if(t===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&o===this.fragment)return this;return new Re(t,r,n,i,o)};e.parse=function(e,t){void 0===t&&(t=!1);var r=Me.exec(e);if(!r)return new Re(Ie,Ie,Ie,Ie,Ie);return new Re(r[2]||Ie,decodeURIComponent(r[4]||Ie),decodeURIComponent(r[5]||Ie),decodeURIComponent(r[7]||Ie),decodeURIComponent(r[9]||Ie),t)};e.file=function(e){var t=Ie;b["c"]&&(e=e.replace(/\\/g,Pe));if(e[0]===Pe&&e[1]===Pe){var r=e.indexOf(Pe,2);if(-1===r){t=e.substring(2);e=Pe}else{t=e.substring(2,r);e=e.substring(r)||Pe}}return new Re("file",t,e,Ie,Ie)};e.from=function(e){return new Re(e.scheme,e.authority,e.path,e.query,e.fragment)};e.prototype.toString=function(e){void 0===e&&(e=!1);return qe(this,e)};e.prototype.toJSON=function(){return this};e.revive=function(t){if(t){if(t instanceof e)return t;var r=new Re(t);r._fsPath=t.fsPath;r._formatted=t.external;return r}return t};return e}();var Re=function(e){Ae(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t._formatted=null;t._fsPath=null;return t}Object.defineProperty(t.prototype,"fsPath",{get:function(){this._fsPath||(this._fsPath=Ue(this));return this._fsPath},enumerable:!0,configurable:!0});t.prototype.toString=function(e){void 0===e&&(e=!1);if(e)return qe(this,!0);this._formatted||(this._formatted=qe(this,!1));return this._formatted};t.prototype.toJSON=function(){var e={$mid:1};this._fsPath&&(e.fsPath=this._fsPath);this._formatted&&(e.external=this._formatted);this.path&&(e.path=this.path);this.scheme&&(e.scheme=this.scheme);this.authority&&(e.authority=this.authority);this.query&&(e.query=this.query);this.fragment&&(e.fragment=this.fragment);return e};return t}(Fe);var je=((xe={})[58]="%3A",xe[47]="%2F",xe[63]="%3F",xe[35]="%23",xe[91]="%5B",xe[93]="%5D",xe[64]="%40",xe[33]="%21",xe[36]="%24",xe[38]="%26",xe[39]="%27",xe[40]="%28",xe[41]="%29",xe[42]="%2A",xe[43]="%2B",xe[44]="%2C",xe[59]="%3B",xe[61]="%3D",xe[32]="%20",xe);function De(e,t){var r=void 0;var n=-1;for(var i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o){if(-1!==n){r+=encodeURIComponent(e.substring(n,i));n=-1}void 0!==r&&(r+=e.charAt(i))}else{void 0===r&&(r=e.substr(0,i));var a=je[o];if(void 0!==a){if(-1!==n){r+=encodeURIComponent(e.substring(n,i));n=-1}r+=a}else-1===n&&(n=i)}}-1!==n&&(r+=encodeURIComponent(e.substring(n)));return void 0!==r?r:e}function Ve(e){var t=void 0;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(35===n||63===n){void 0===t&&(t=e.substr(0,r));t+=je[n]}else void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function Ue(e){var t;t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path;b["c"]&&(t=t.replace(/\//g,"\\"));return t}function qe(e,t){var r=t?Ve:De;var n="";var i=e.scheme,o=e.authority,a=e.path,s=e.query,u=e.fragment;if(i){n+=i;n+=":"}if(o||"file"===i){n+=Pe;n+=Pe}if(o){var c=o.indexOf("@");if(-1!==c){var f=o.substr(0,c);o=o.substr(c+1);if(-1===(c=f.indexOf(":")))n+=r(f,!1);else{n+=r(f.substr(0,c),!1);n+=":";n+=r(f.substr(c+1),!1)}n+="@"}if(-1===(c=(o=o.toLowerCase()).indexOf(":")))n+=r(o,!1);else{n+=r(o.substr(0,c),!1);n+=o.substr(c)}}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2)){var l;(l=a.charCodeAt(1))>=65&&l<=90&&(a="/"+String.fromCharCode(l+32)+":"+a.substr(3))}else if(a.length>=2&&58===a.charCodeAt(1)){var l;(l=a.charCodeAt(0))>=65&&l<=90&&(a=String.fromCharCode(l+32)+":"+a.substr(2))}n+=r(a,!0)}if(s){n+="?";n+=r(s,!1)}if(u){n+="#";n+=t?u:De(u,!1)}return n}var Ke=function(){function e(e,t){this.lineNumber=e;this.column=t}e.prototype.with=function(t,r){void 0===t&&(t=this.lineNumber);void 0===r&&(r=this.column);return t===this.lineNumber&&r===this.column?this:new e(t,r)};e.prototype.delta=function(e,t){void 0===e&&(e=0);void 0===t&&(t=0);return this.with(this.lineNumber+e,this.column+t)};e.prototype.equals=function(t){return e.equals(this,t)};e.equals=function(e,t){if(!e&&!t)return!0;return!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column};e.prototype.isBefore=function(t){return e.isBefore(this,t)};e.isBefore=function(e,t){if(e.lineNumber<t.lineNumber)return!0;if(t.lineNumber<e.lineNumber)return!1;return e.column<t.column};e.prototype.isBeforeOrEqual=function(t){return e.isBeforeOrEqual(this,t)};e.isBeforeOrEqual=function(e,t){if(e.lineNumber<t.lineNumber)return!0;if(t.lineNumber<e.lineNumber)return!1;return e.column<=t.column};e.compare=function(e,t){var r=0|e.lineNumber;var n=0|t.lineNumber;if(r===n){var i;var o;return(0|e.column)-(0|t.column)}return r-n};e.prototype.clone=function(){return new e(this.lineNumber,this.column)};e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"};e.lift=function(t){return new e(t.lineNumber,t.column)};e.isIPosition=function(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column};return e}();var Be=function(){function e(e,t,r,n){if(e>r||e===r&&t>n){this.startLineNumber=r;this.startColumn=n;this.endLineNumber=e;this.endColumn=t}else{this.startLineNumber=e;this.startColumn=t;this.endLineNumber=r;this.endColumn=n}}e.prototype.isEmpty=function(){return e.isEmpty(this)};e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn};e.prototype.containsPosition=function(t){return e.containsPosition(this,t)};e.containsPosition=function(e,t){if(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)return!1;if(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)return!1;if(t.lineNumber===e.endLineNumber&&t.column>e.endColumn)return!1;return!0};e.prototype.containsRange=function(t){return e.containsRange(this,t)};e.containsRange=function(e,t){if(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)return!1;if(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)return!1;if(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)return!1;if(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)return!1;return!0};e.prototype.plusRange=function(t){return e.plusRange(this,t)};e.plusRange=function(t,r){var n;var i;var o;var a;if(r.startLineNumber<t.startLineNumber){n=r.startLineNumber;i=r.startColumn}else if(r.startLineNumber===t.startLineNumber){n=r.startLineNumber;i=Math.min(r.startColumn,t.startColumn)}else{n=t.startLineNumber;i=t.startColumn}if(r.endLineNumber>t.endLineNumber){o=r.endLineNumber;a=r.endColumn}else if(r.endLineNumber===t.endLineNumber){o=r.endLineNumber;a=Math.max(r.endColumn,t.endColumn)}else{o=t.endLineNumber;a=t.endColumn}return new e(n,i,o,a)};e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)};e.intersectRanges=function(t,r){var n=t.startLineNumber;var i=t.startColumn;var o=t.endLineNumber;var a=t.endColumn;var s=r.startLineNumber;var u=r.startColumn;var c=r.endLineNumber;var f=r.endColumn;if(n<s){n=s;i=u}else n===s&&(i=Math.max(i,u));if(o>c){o=c;a=f}else o===c&&(a=Math.min(a,f));if(n>o)return null;if(n===o&&i>a)return null;return new e(n,i,o,a)};e.prototype.equalsRange=function(t){return e.equalsRange(this,t)};e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn};e.prototype.getEndPosition=function(){return new Ke(this.endLineNumber,this.endColumn)};e.prototype.getStartPosition=function(){return new Ke(this.startLineNumber,this.startColumn)};e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"};e.prototype.setEndPosition=function(t,r){return new e(this.startLineNumber,this.startColumn,t,r)};e.prototype.setStartPosition=function(t,r){return new e(t,r,this.endLineNumber,this.endColumn)};e.prototype.collapseToStart=function(){return e.collapseToStart(this)};e.collapseToStart=function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)};e.fromPositions=function(t,r){void 0===r&&(r=t);return new e(t.lineNumber,t.column,r.lineNumber,r.column)};e.lift=function(t){if(!t)return null;return new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)};e.isIRange=function(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn};e.areIntersectingOrTouching=function(e,t){if(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)return!1;if(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)return!1;return!0};e.areIntersecting=function(e,t){if(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)return!1;if(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)return!1;return!0};e.compareRangesUsingStarts=function(e,t){if(e&&t){var r=0|e.startLineNumber;var n=0|t.startLineNumber;if(r===n){var i=0|e.startColumn;var o=0|t.startColumn;if(i===o){var a=0|e.endLineNumber;var s=0|t.endLineNumber;if(a===s){var u;var c;return(0|e.endColumn)-(0|t.endColumn)}return a-s}return i-o}return r-n}var f;var l;return(e?1:0)-(t?1:0)};e.compareRangesUsingEnds=function(e,t){if(e.endLineNumber===t.endLineNumber){if(e.endColumn===t.endColumn){if(e.startLineNumber===t.startLineNumber)return e.startColumn-t.startColumn;return e.startLineNumber-t.startLineNumber}return e.endColumn-t.endColumn}return e.endLineNumber-t.endLineNumber};e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber};return e}();var We="";function $e(e){if(!e||"string"!=typeof e)return!0;return 0===e.trim().length}function Ye(e,t,r){void 0===r&&(r="0");var n=""+e;var i=[n];for(var o=n.length;o<t;o++)i.push(r);return i.reverse().join("")}var He=/{(\d+)}/g;function ze(e){var t=[];for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(0===t.length)return e;return e.replace(He,function(e,r){var n=parseInt(r,10);return isNaN(n)||n<0||n>=t.length?e:t[n]})}function Ge(e){return e.replace(/[<>&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function Je(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}function Qe(e,t){void 0===t&&(t=" ");var r;return Ze(Xe(e,t),t)}function Xe(e,t){if(!e||!t)return e;var r=t.length;if(0===r||0===e.length)return e;var n=0;for(;e.indexOf(t,n)===n;)n+=r;return e.substring(n)}function Ze(e,t){if(!e||!t)return e;var r=t.length,n=e.length;if(0===r||0===n)return e;var i=n,o=-1;for(;-1!==(o=e.lastIndexOf(t,i-1))&&o+r===i;){if(0===o)return"";i=o}return e.substring(0,i)}function et(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function tt(e,t){if(e.length<t.length)return!1;if(e===t)return!0;for(var r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0}function rt(e,t){var r=e.length-t.length;return r>0?e.indexOf(t,r)===r:0===r&&e===t}function nt(e,t,r){void 0===r&&(r={});if(!e)throw new Error("Cannot create regex from empty string");t||(e=Je(e));if(r.wholeWord){/\B/.test(e.charAt(0))||(e="\\b"+e);/\B/.test(e.charAt(e.length-1))||(e+="\\b")}var n="";r.global&&(n+="g");r.matchCase||(n+="i");r.multiline&&(n+="m");r.unicode&&(n+="u");return new RegExp(e,n)}function it(e){if("^"===e.source||"^$"===e.source||"$"===e.source||"^\\s*$"===e.source)return!1;var t;return!(!e.exec("")||0!==e.lastIndex)}function ot(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function at(e){for(var t=0,r=e.length;t<r;t++){var n=e.charCodeAt(t);if(32!==n&&9!==n)return t}return-1}function st(e,t,r){void 0===t&&(t=0);void 0===r&&(r=e.length);for(var n=t;n<r;n++){var i=e.charCodeAt(n);if(32!==i&&9!==i)return e.substring(t,n)}return e.substring(t,r)}function ut(e,t){void 0===t&&(t=e.length-1);for(var r=t;r>=0;r--){var n=e.charCodeAt(r);if(32!==n&&9!==n)return r}return-1}function ct(e,t){return e<t?-1:e>t?1:0}function ft(e){return e>=97&&e<=122}function lt(e){return e>=65&&e<=90}function ht(e){return ft(e)||lt(e)}function dt(e,t){var r;var n;if((e?e.length:0)!==(t?t.length:0))return!1;return pt(e,t)}function pt(e,t,r){void 0===r&&(r=e.length);if("string"!=typeof e||"string"!=typeof t)return!1;for(var n=0;n<r;n++){var i=e.charCodeAt(n);var o=t.charCodeAt(n);if(i===o)continue;if(ht(i)&&ht(o)){var a=Math.abs(i-o);if(0!==a&&32!==a)return!1}else if(String.fromCharCode(i).toLowerCase()!==String.fromCharCode(o).toLowerCase())return!1}return!0}function mt(e,t){var r=t.length;if(t.length>e.length)return!1;return pt(e,t,r)}function vt(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r++)if(e.charCodeAt(r)!==t.charCodeAt(r))return r;return n}function gt(e,t){var r,n=Math.min(e.length,t.length);var i=e.length-1;var o=t.length-1;for(r=0;r<n;r++)if(e.charCodeAt(i-r)!==t.charCodeAt(o-r))return r;return n}function yt(e){return 55296<=e&&e<=56319}function bt(e){return 56320<=e&&e<=57343}var _t=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function Ct(e){return _t.test(e)}var St=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;function Et(e){return St.test(e)}var At=/^[\t\n\r\x20-\x7E]*$/;function xt(e){return At.test(e)}function Nt(e){for(var t=0,r=e.length;t<r;t++)if(wt(e.charCodeAt(t)))return!0;return!1}function wt(e){return(e=+e)>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}var Lt=String.fromCharCode(65279);function Tt(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function kt(e){return btoa(encodeURIComponent(e))}function Ot(e,t){var r="";for(var n=0;n<t;n++)r+=e;return r}var It=5e3;var Pt=3;function Mt(e,t,r,n){var i;return new ve(e,t,r).ComputeDiff(n)}var Ft=function(){function e(t){var r=[];var n=[];for(var i=0,o=t.length;i<o;i++){r[i]=e._getFirstNonBlankColumn(t[i],1);n[i]=e._getLastNonBlankColumn(t[i],1)}this._lines=t;this._startColumns=r;this._endColumns=n}e.prototype.getLength=function(){return this._lines.length};e.prototype.getElementAtIndex=function(e){return this._lines[e].substring(this._startColumns[e]-1,this._endColumns[e]-1)};e.prototype.getStartLineNumber=function(e){return e+1};e.prototype.getEndLineNumber=function(e){return e+1};e._getFirstNonBlankColumn=function(e,t){var r=at(e);if(-1===r)return t;return r+1};e._getLastNonBlankColumn=function(e,t){var r=ut(e);if(-1===r)return t;return r+2};e.prototype.getCharSequence=function(e,t,r){var n=[];var i=[];var o=[];var a=0;for(var s=t;s<=r;s++){var u=this._lines[s];var c=e?this._startColumns[s]:1;var f=e?this._endColumns[s]:u.length+1;for(var l=c;l<f;l++){n[a]=u.charCodeAt(l-1);i[a]=s+1;o[a]=l;a++}}return new Rt(n,i,o)};return e}();var Rt=function(){function e(e,t,r){this._charCodes=e;this._lineNumbers=t;this._columns=r}e.prototype.getLength=function(){return this._charCodes.length};e.prototype.getElementAtIndex=function(e){return this._charCodes[e]};e.prototype.getStartLineNumber=function(e){return this._lineNumbers[e]};e.prototype.getStartColumn=function(e){return this._columns[e]};e.prototype.getEndLineNumber=function(e){return this._lineNumbers[e]};e.prototype.getEndColumn=function(e){return this._columns[e]+1};return e}();var jt=function(){function e(e,t,r,n,i,o,a,s){this.originalStartLineNumber=e;this.originalStartColumn=t;this.originalEndLineNumber=r;this.originalEndColumn=n;this.modifiedStartLineNumber=i;this.modifiedStartColumn=o;this.modifiedEndLineNumber=a;this.modifiedEndColumn=s}e.createFromDiffChange=function(t,r,n){var i;var o;var a;var s;var u;var c;var f;var l;if(0===t.originalLength){i=0;o=0;a=0;s=0}else{i=r.getStartLineNumber(t.originalStart);o=r.getStartColumn(t.originalStart);a=r.getEndLineNumber(t.originalStart+t.originalLength-1);s=r.getEndColumn(t.originalStart+t.originalLength-1)}if(0===t.modifiedLength){u=0;c=0;f=0;l=0}else{u=n.getStartLineNumber(t.modifiedStart);c=n.getStartColumn(t.modifiedStart);f=n.getEndLineNumber(t.modifiedStart+t.modifiedLength-1);l=n.getEndColumn(t.modifiedStart+t.modifiedLength-1)}return new e(i,o,a,s,u,c,f,l)};return e}();function Dt(e){if(e.length<=1)return e;var t=[e[0]];var r=t[0];for(var n=1,i=e.length;n<i;n++){var o=e[n];var a=o.originalStart-(r.originalStart+r.originalLength);var s=o.modifiedStart-(r.modifiedStart+r.modifiedLength);var u;if(Math.min(a,s)<Pt){r.originalLength=o.originalStart+o.originalLength-r.originalStart;r.modifiedLength=o.modifiedStart+o.modifiedLength-r.modifiedStart}else{t.push(o);r=o}}return t}var Vt=function(){function e(e,t,r,n,i){this.originalStartLineNumber=e;this.originalEndLineNumber=t;this.modifiedStartLineNumber=r;this.modifiedEndLineNumber=n;this.charChanges=i}e.createFromDiffResult=function(t,r,n,i,o,a,s){var u;var c;var f;var l;var h=void 0;if(0===r.originalLength){u=n.getStartLineNumber(r.originalStart)-1;c=0}else{u=n.getStartLineNumber(r.originalStart);c=n.getEndLineNumber(r.originalStart+r.originalLength-1)}if(0===r.modifiedLength){f=i.getStartLineNumber(r.modifiedStart)-1;l=0}else{f=i.getStartLineNumber(r.modifiedStart);l=i.getEndLineNumber(r.modifiedStart+r.modifiedLength-1)}if(a&&0!==r.originalLength&&0!==r.modifiedLength&&o()){var d=n.getCharSequence(t,r.originalStart,r.originalStart+r.originalLength-1);var p=i.getCharSequence(t,r.modifiedStart,r.modifiedStart+r.modifiedLength-1);var m=Mt(d,p,o,!0);s&&(m=Dt(m));h=[];for(var v=0,g=m.length;v<g;v++)h.push(jt.createFromDiffChange(m[v],d,p))}return new e(u,c,f,l,h)};return e}();var Ut=function(){function e(e,t,r){this.shouldComputeCharChanges=r.shouldComputeCharChanges;this.shouldPostProcessCharChanges=r.shouldPostProcessCharChanges;this.shouldIgnoreTrimWhitespace=r.shouldIgnoreTrimWhitespace;this.shouldMakePrettyDiff=r.shouldMakePrettyDiff;this.maximumRunTimeMs=It;this.originalLines=e;this.modifiedLines=t;this.original=new Ft(e);this.modified=new Ft(t)}e.prototype.computeDiff=function(){if(1===this.original.getLength()&&0===this.original.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(1===this.modified.getLength()&&0===this.modified.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=(new Date).getTime();var e=Mt(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){var t=[];for(var r=0,n=e.length;r<n;r++)t.push(Vt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e[r],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return t}var i=[];var o=0;var a=0;for(var r=-1,s=e.length;r<s;r++){var u=r+1<s?e[r+1]:null;var c=u?u.originalStart:this.originalLines.length;var f=u?u.modifiedStart:this.modifiedLines.length;for(;o<c&&a<f;){var l=this.originalLines[o];var h=this.modifiedLines[a];if(l!==h){var d=Ft._getFirstNonBlankColumn(l,1);var p=Ft._getFirstNonBlankColumn(h,1);for(;d>1&&p>1;){var m;var v;if((m=l.charCodeAt(d-2))!==(v=h.charCodeAt(p-2)))break;d--;p--}(d>1||p>1)&&this._pushTrimWhitespaceCharChange(i,o+1,1,d,a+1,1,p);var g=Ft._getLastNonBlankColumn(l,1);var y=Ft._getLastNonBlankColumn(h,1);var b=l.length+1;var _=h.length+1;for(;g<b&&y<_;){var m;var v;if((m=l.charCodeAt(g-1))!==(v=l.charCodeAt(y-1)))break;g++;y++}(g<b||y<_)&&this._pushTrimWhitespaceCharChange(i,o+1,g,b,a+1,y,_)}o++;a++}if(u){i.push(Vt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,u,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));o+=u.originalLength;a+=u.modifiedLength}}return i};e.prototype._pushTrimWhitespaceCharChange=function(e,t,r,n,i,o,a){if(this._mergeTrimWhitespaceCharChange(e,t,r,n,i,o,a))return;var s=void 0;this.shouldComputeCharChanges&&(s=[new jt(t,r,t,n,i,o,i,a)]);e.push(new Vt(t,t,i,i,s))};e.prototype._mergeTrimWhitespaceCharChange=function(e,t,r,n,i,o,a){var s=e.length;if(0===s)return!1;var u=e[s-1];if(0===u.originalEndLineNumber||0===u.modifiedEndLineNumber)return!1;if(u.originalEndLineNumber+1===t&&u.modifiedEndLineNumber+1===i){u.originalEndLineNumber=t;u.modifiedEndLineNumber=i;this.shouldComputeCharChanges&&u.charChanges.push(new jt(t,r,t,n,i,o,i,a));return!0}return!1};e.prototype._continueProcessingPredicate=function(){if(0===this.maximumRunTimeMs)return!0;var e;return(new Date).getTime()-this.computationStartTime<this.maximumRunTimeMs};return e}();var qt=function(){function e(e,t,r){var n=new Uint8Array(e*t);for(var i=0,o=e*t;i<o;i++)n[i]=r;this._data=n;this.rows=e;this.cols=t}e.prototype.get=function(e,t){return this._data[e*this.cols+t]};e.prototype.set=function(e,t,r){this._data[e*this.cols+t]=r};return e}();function Kt(e){if(e<0)return 0;if(e>255)return 255;return 0|e}function Bt(e){if(e<0)return 0;if(e>4294967295)return 4294967295;return 0|e}function Wt(e){var t=e.length;var r=new Uint32Array(t);for(var n=0;n<t;n++)r[n]=Bt(e[n]);return r}var $t=function(){function e(e,t){this.index=e;this.remainder=t}return e}();var Yt=function(){function e(e){this.values=e;this.prefixSum=new Uint32Array(e.length);this.prefixSumValidIndex=new Int32Array(1);this.prefixSumValidIndex[0]=-1}e.prototype.getCount=function(){return this.values.length};e.prototype.insertValues=function(e,t){e=Bt(e);var r=this.values;var n=this.prefixSum;var i=t.length;if(0===i)return!1;this.values=new Uint32Array(r.length+i);this.values.set(r.subarray(0,e),0);this.values.set(r.subarray(e),e+i);this.values.set(t,e);e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1);this.prefixSum=new Uint32Array(this.values.length);this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1));return!0};e.prototype.changeValue=function(e,t){e=Bt(e);t=Bt(t);if(this.values[e]===t)return!1;this.values[e]=t;e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1);return!0};e.prototype.removeValues=function(e,t){e=Bt(e);t=Bt(t);var r=this.values;var n=this.prefixSum;if(e>=r.length)return!1;var i=r.length-e;t>=i&&(t=i);if(0===t)return!1;this.values=new Uint32Array(r.length-t);this.values.set(r.subarray(0,e),0);this.values.set(r.subarray(e+t),e);this.prefixSum=new Uint32Array(this.values.length);e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1);this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1));return!0};e.prototype.getTotalValue=function(){if(0===this.values.length)return 0;return this._getAccumulatedValue(this.values.length-1)};e.prototype.getAccumulatedValue=function(e){if(e<0)return 0;e=Bt(e);return this._getAccumulatedValue(e)};e.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;if(0===t){this.prefixSum[0]=this.values[0];t++}e>=this.values.length&&(e=this.values.length-1);for(var r=t;r<=e;r++)this.prefixSum[r]=this.prefixSum[r-1]+this.values[r];this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e);return this.prefixSum[e]};e.prototype.getIndexOf=function(e){e=Math.floor(e);this.getTotalValue();var t=0;var r=this.values.length-1;var n=0;var i=0;var o=0;for(;t<=r;){n=t+(r-t)/2|0;if(e<(o=(i=this.prefixSum[n])-this.values[n]))r=n-1;else{if(!(e>=i))break;t=n+1}}return new $t(n,e-o)};return e}();var Ht=function(){function e(e){this._cacheAccumulatedValueStart=0;this._cache=null;this._actual=new Yt(e);this._bustCache()}e.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0;this._cache=null};e.prototype.insertValues=function(e,t){this._actual.insertValues(e,t)&&this._bustCache()};e.prototype.changeValue=function(e,t){this._actual.changeValue(e,t)&&this._bustCache()};e.prototype.removeValues=function(e,t){this._actual.removeValues(e,t)&&this._bustCache()};e.prototype.getTotalValue=function(){return this._actual.getTotalValue()};e.prototype.getAccumulatedValue=function(e){return this._actual.getAccumulatedValue(e)};e.prototype.getIndexOf=function(e){e=Math.floor(e);if(null!==this._cache){var t=e-this._cacheAccumulatedValueStart;if(t>=0&&t<this._cache.length)return this._cache[t]}return this._actual.getIndexOf(e)};e.prototype.warmUpCache=function(e,t){var r=[];for(var n=e;n<=t;n++)r[n-e]=this.getIndexOf(n);this._cache=r;this._cacheAccumulatedValueStart=e};return e}();var zt=function(){function e(e,t,r,n){this._uri=e;this._lines=t;this._eol=r;this._versionId=n;this._lineStarts=null}e.prototype.dispose=function(){this._lines.length=0};e.prototype.getText=function(){return this._lines.join(this._eol)};e.prototype.onEvents=function(e){if(e.eol&&e.eol!==this._eol){this._eol=e.eol;this._lineStarts=null}var t;for(var r=0,n=e.changes;r<n.length;r++){var i=n[r];this._acceptDeleteRange(i.range);this._acceptInsertText(new Ke(i.range.startLineNumber,i.range.startColumn),i.text)}this._versionId=e.versionId};e.prototype._ensureLineStarts=function(){if(!this._lineStarts){var e=this._eol.length;var t=this._lines.length;var r=new Uint32Array(t);for(var n=0;n<t;n++)r[n]=this._lines[n].length+e;this._lineStarts=new Yt(r)}};e.prototype._setLineText=function(e,t){this._lines[e]=t;this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)};e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1));this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber);this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)};e.prototype._acceptInsertText=function(e,t){if(0===t.length)return;var r=t.split(/\r\n|\r|\n/);if(1===r.length){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+r[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}r[r.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1);this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+r[0]);var n=new Uint32Array(r.length-1);for(var i=1;i<r.length;i++){this._lines.splice(e.lineNumber+i-1,0,r[i]);n[i-1]=r[i].length+this._eol.length}this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,n)};return e}();var Gt="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function Jt(e){void 0===e&&(e="");var t="(-?\\d*\\.\\d\\w*)|([^";for(var r=0,n=Gt;r<n.length;r++){var i=n[r];if(e.indexOf(i)>=0)continue;t+="\\"+i}t+="\\s]+)";return new RegExp(t,"g")}var Qt=Jt();function Xt(e){var t=Qt;if(e&&e instanceof RegExp)if(e.global)t=e;else{var r="g";e.ignoreCase&&(r+="i");e.multiline&&(r+="m");e.unicode&&(r+="u");t=new RegExp(e.source,r)}t.lastIndex=0;return t}function Zt(e,t,r,n){var i=e-1-n;var o=r.lastIndexOf(" ",i-1)+1;t.lastIndex=o;var a;for(;a=t.exec(r);){var s=a.index||0;if(s<=i&&t.lastIndex>=i)return{word:a[0],startColumn:n+1+s,endColumn:n+1+t.lastIndex}}return null}function er(e,t,r,n){var i=e-1-n;t.lastIndex=0;var o;for(;o=t.exec(r);){var a=o.index||0;if(a>i)return null;if(t.lastIndex>=i)return{word:o[0],startColumn:n+1+a,endColumn:n+1+t.lastIndex}}return null}function tr(e,t,r,n){t.lastIndex=0;var i=t.exec(r);if(!i)return null;var o=i[0].indexOf(" ")>=0?er(e,t,r,n):Zt(e,t,r,n);t.lastIndex=0;return o}var rr=function(){function e(t){var r=Kt(t);this._defaultValue=r;this._asciiMap=e._createAsciiMap(r);this._map=new Map}e._createAsciiMap=function(e){var t=new Uint8Array(256);for(var r=0;r<256;r++)t[r]=e;return t};e.prototype.set=function(e,t){var r=Kt(t);e>=0&&e<256?this._asciiMap[e]=r:this._map.set(e,r)};e.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue};return e}();var nr=function(){function e(){this._actual=new rr(0)}e.prototype.add=function(e){this._actual.set(e,1)};e.prototype.has=function(e){return 1===this._actual.get(e)};return e}();var ir=function(){function e(e){var t=0;var r=0;for(var n=0,i=e.length;n<i;n++){var o=e[n],a=o[0],s=o[1],u=o[2];s>t&&(t=s);a>r&&(r=a);u>r&&(r=u)}var c=new qt(++r,++t,0);for(var n=0,i=e.length;n<i;n++){var f=e[n],a=f[0],s=f[1],u=f[2];c.set(a,s,u)}this._states=c;this._maxCharCode=t}e.prototype.nextState=function(e,t){if(t<0||t>=this._maxCharCode)return 0;return this._states.get(e,t)};return e}();var or=null;function ar(){null===or&&(or=new ir([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]]));return or}var sr=null;function ur(){if(null===sr){sr=new rr(0);var e=" \t<>'\"";for(var t=0;t<e.length;t++)sr.set(e.charCodeAt(t),1);var r=".,;";for(var t=0;t<".,;".length;t++)sr.set(".,;".charCodeAt(t),2)}return sr}var cr=function(){function e(){}e._createLink=function(e,t,r,n,i){var o=i-1;do{var a=t.charCodeAt(o);var s;if(2!==e.get(a))break;o--}while(o>n);if(n>0){var u=t.charCodeAt(n-1);var c=t.charCodeAt(o);(40===u&&41===c||91===u&&93===c||123===u&&125===c)&&o--}return{range:{startLineNumber:r,startColumn:n+1,endLineNumber:r,endColumn:o+2},url:t.substring(n,o+1)}};e.computeLinks=function(t,r){void 0===r&&(r=ar());var n=ur();var i=[];for(var o=1,a=t.getLineCount();o<=a;o++){var s=t.getLineContent(o);var u=s.length;var c=0;var f=0;var l=0;var h=1;var d=!1;var p=!1;var m=!1;for(;c<u;){var v=!1;var g=s.charCodeAt(c);if(13===h){var y=void 0;switch(g){case 40:d=!0;y=0;break;case 41:y=d?0:1;break;case 91:p=!0;y=0;break;case 93:y=p?0:1;break;case 123:m=!0;y=0;break;case 125:y=m?0:1;break;case 39:y=34===l||96===l?0:1;break;case 34:y=39===l||96===l?0:1;break;case 96:y=39===l||34===l?0:1;break;default:y=n.get(g)}if(1===y){i.push(e._createLink(n,s,o,f,c));v=!0}}else if(12===h){var y=void 0;if(91===g){p=!0;y=0}else y=n.get(g);1===y?v=!0:h=13}else 0===(h=r.nextState(h,g))&&(v=!0);if(v){h=1;d=!1;p=!1;m=!1;f=c+1;l=g}c++}13===h&&i.push(e._createLink(n,s,o,f,u))}return i};return e}();function fr(e){if(!e||"function"!=typeof e.getLineCount||"function"!=typeof e.getLineContent)return[];return cr.computeLinks(e)}var lr=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}e.prototype.navigateValueSet=function(e,t,r,n,i){if(e&&t){var o;if(o=this.doNavigateValueSet(t,i))return{range:e,value:o}}if(r&&n){var o;if(o=this.doNavigateValueSet(n,i))return{range:r,value:o}}return null};e.prototype.doNavigateValueSet=function(e,t){var r=this.numberReplace(e,t);if(null!==r)return r;return this.textReplace(e,t)};e.prototype.numberReplace=function(e,t){var r=Math.pow(10,e.length-(e.lastIndexOf(".")+1));var n=Number(e);var i=parseFloat(e);if(!isNaN(n)&&!isNaN(i)&&n===i){if(0!==n||t){n=Math.floor(n*r);n+=t?r:-r;return String(n/r)}return null}return null};e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)};e.prototype.valueSetsReplace=function(e,t,r){var n=null;for(var i=0,o=e.length;null===n&&i<o;i++)n=this.valueSetReplace(e[i],t,r);return n};e.prototype.valueSetReplace=function(e,t,r){var n=e.indexOf(t);if(n>=0){(n+=r?1:-1)<0?n=e.length-1:n%=e.length;return e[n]}return null};e.INSTANCE=new e;return e}();var hr=r("I0YP");function dr(e){var t=this;var r=!1;var n;return function(){if(r)return n;r=!0;return n=e.apply(t,arguments)}}var pr=function(){function e(e){this.element=e}return e}();var mr=function(){function e(){this._size=0}Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0});e.prototype.isEmpty=function(){return!this._first};e.prototype.unshift=function(e){return this._insert(e,!1)};e.prototype.push=function(e){return this._insert(e,!0)};e.prototype._insert=function(e,t){var r=new pr(e);if(this._first)if(t){var n=this._last;this._last=r;r.prev=n;n.next=r}else{var i=this._first;this._first=r;r.next=i;i.prev=r}else{this._first=r;this._last=r}this._size+=1;return this._remove.bind(this,r)};e.prototype.shift=function(){if(this._first){var e=this._first.element;this._remove(this._first);return e}return};e.prototype._remove=function(e){var t=this._first;for(;t instanceof pr;){if(t!==e){t=t.next;continue}if(t.prev&&t.next){var r=t.prev;r.next=t.next;t.next.prev=r}else if(t.prev||t.next)if(t.next){if(!t.prev){this._first=this._first.next;this._first.prev=void 0}}else{this._last=this._last.prev;this._last.next=void 0}else{this._first=void 0;this._last=void 0}this._size-=1;break}};e.prototype.iterator=function(){var e;var t=this._first;return{next:function(){if(!t)return ye;e?e.value=t.element:e={done:!1,value:t.element};t=t.next;return e}}};return e}();var vr;!function(e){var t={dispose:function(){}};e.None=function(){return t};function r(e){return function(t,r,n){void 0===r&&(r=null);var i=!1;var o;o=e(function(e){if(i)return;o?o.dispose():i=!0;return t.call(r,e)},null,n);i&&o.dispose();return o}}e.once=r;function n(e,t){return c(function(r,n,i){void 0===n&&(n=null);return e(function(e){return r.call(n,t(e))},null,i)})}e.map=n;function i(e,t){return c(function(r,n,i){void 0===n&&(n=null);return e(function(e){t(e);r.call(n,e)},null,i)})}e.forEach=i;function o(e,t){return c(function(r,n,i){void 0===n&&(n=null);return e(function(e){return t(e)&&r.call(n,e)},null,i)})}e.filter=o;function a(e){return e}e.signal=a;function s(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,r,n){void 0===r&&(r=null);return m(e.map(function(e){return e(function(e){return t.call(r,e)},null,n)}))}}e.any=s;function u(e,t,r){var i=r;return n(e,function(e){return i=t(i,e)})}e.reduce=u;function c(e){var t;var r=new br({onFirstListenerAdd:function(){t=e(r.fire,r)},onLastListenerRemove:function(){t.dispose()}});return r.event}e.snapshot=c;function f(e,t,r,n,i){void 0===r&&(r=100);void 0===n&&(n=!1);var o;var a=void 0;var s=void 0;var u=0;var c=new br({leakWarningThreshold:i,onFirstListenerAdd:function(){o=e(function(e){u++;a=t(a,e);n&&!s&&c.fire(a);clearTimeout(s);s=setTimeout(function(){var e=a;a=void 0;s=void 0;(!n||u>1)&&c.fire(e);u=0},r)})},onLastListenerRemove:function(){o.dispose()}});return c.event}e.debounce=f;function l(e){var t=(new Date).getTime();return n(r(e),function(e){return(new Date).getTime()-t})}e.stopwatch=l;function h(e){var t=!0;var r;return o(e,function(e){var n=t||e!==r;t=!1;r=e;return n})}e.latch=h;function d(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=[]);var n=r.slice();var i=e(function(e){n?n.push(e):a.fire(e)});var o=function(){n&&n.forEach(function(e){return a.fire(e)});n=null};var a=new br({onFirstListenerAdd:function(){i||(i=e(function(e){return a.fire(e)}))},onFirstListenerDidAdd:function(){n&&(t?setTimeout(o):o())},onLastListenerRemove:function(){i&&i.dispose();i=null}});return a.event}e.buffer=d;function p(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=[]);r=r.slice();e(function(e){r.push(e);i.fire(e)});var n=function(e,t){return r.forEach(function(r){return e.call(t,r)})};var i=new br({onListenerDidAdd:function(e,r,i){t?setTimeout(function(){return n(r,i)}):n(r,i)}});return i.event}e.echo=p;var v=function(){function e(e){this.event=e}e.prototype.map=function(t){return new e(n(this.event,t))};e.prototype.forEach=function(t){return new e(i(this.event,t))};e.prototype.filter=function(t){return new e(o(this.event,t))};e.prototype.reduce=function(t,r){return new e(u(this.event,t,r))};e.prototype.latch=function(){return new e(h(this.event))};e.prototype.on=function(e,t,r){return this.event(e,t,r)};e.prototype.once=function(e,t,n){return r(this.event)(e,t,n)};return e}();function g(e){return new v(e)}e.chain=g;function y(e,t,r){void 0===r&&(r=function(e){return e});var n=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];return a.fire(r.apply(void 0,e))};var i;var o;var a=new br({onFirstListenerAdd:function(){return e.on(t,n)},onLastListenerRemove:function(){return e.removeListener(t,n)}});return a.event}e.fromNodeEventEmitter=y;function b(e){var t=new br;var r=!1;e.then(void 0,function(){return null}).then(function(){r?t.fire(void 0):setTimeout(function(){return t.fire(void 0)},0)});r=!0;return t.event}e.fromPromise=b;function _(e){return new Promise(function(t){return r(e)(t)})}e.toPromise=_}(vr||(vr={}));var gr=-1;var yr=function(){function e(e,t){void 0===t&&(t=Math.random().toString(18).slice(2,5));this.customThreshold=e;this.name=t;this._warnCountdown=0}e.prototype.dispose=function(){this._stacks&&this._stacks.clear()};e.prototype.check=function(e){var t=this;var r=gr;"number"==typeof this.customThreshold&&(r=this.customThreshold);if(r<=0||e<r)return;this._stacks||(this._stacks=new Map);var n=(new Error).stack.split("\n").slice(3).join("\n");var i=this._stacks.get(n)||0;this._stacks.set(n,i+1);this._warnCountdown-=1;if(this._warnCountdown<=0){this._warnCountdown=.5*r;var o;var a=0;this._stacks.forEach(function(e,t){if(!o||a<e){o=t;a=e}});console.warn("["+this.name+"] potential listener LEAK detected, having "+e+" listeners already. MOST frequent listener ("+a+"):");console.warn(o)}return function(){var e=t._stacks.get(n)||0;t._stacks.set(n,e-1)}};return e}();var br=function(){function e(e){this._disposed=!1;this._options=e;this._leakageMon=gr>0?new yr(this._options&&this._options.leakWarningThreshold):void 0}Object.defineProperty(e.prototype,"event",{get:function(){var t=this;this._event||(this._event=function(r,n,i){t._listeners||(t._listeners=new mr);var o=t._listeners.isEmpty();o&&t._options&&t._options.onFirstListenerAdd&&t._options.onFirstListenerAdd(t);var a=t._listeners.push(n?[r,n]:r);o&&t._options&&t._options.onFirstListenerDidAdd&&t._options.onFirstListenerDidAdd(t);t._options&&t._options.onListenerDidAdd&&t._options.onListenerDidAdd(t,r,n);var s;t._leakageMon&&(s=t._leakageMon.check(t._listeners.size));var u;u={dispose:function(){s&&s();u.dispose=e._noop;if(!t._disposed){a();if(t._options&&t._options.onLastListenerRemove){var r;t._listeners&&!t._listeners.isEmpty()||t._options.onLastListenerRemove(t)}}}};Array.isArray(i)&&i.push(u);return u});return this._event},enumerable:!0,configurable:!0});e.prototype.fire=function(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=[]);for(var t=this._listeners.iterator(),r=t.next();!r.done;r=t.next())this._deliveryQueue.push([r.value,e]);for(;this._deliveryQueue.length>0;){var n=this._deliveryQueue.shift(),i=n[0],a=n[1];try{"function"==typeof i?i.call(void 0,a):i[0].call(i[1],a)}catch(r){o(r)}}}};e.prototype.dispose=function(){this._listeners&&(this._listeners=void 0);this._deliveryQueue&&(this._deliveryQueue.length=0);this._leakageMon&&this._leakageMon.dispose();this._disposed=!0};e._noop=function(){};return e}();var _r=function(){function e(){var e=this;this.hasListeners=!1;this.events=[];this.emitter=new br({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}Object.defineProperty(e.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0});e.prototype.add=function(e){var t=this;var r={event:e,listener:null};this.events.push(r);this.hasListeners&&this.hook(r);var n;return v(dr(function(){t.hasListeners&&t.unhook(r);var e=t.events.indexOf(r);t.events.splice(e,1)}))};e.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0;this.events.forEach(function(t){return e.hook(t)})};e.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1;this.events.forEach(function(t){return e.unhook(t)})};e.prototype.hook=function(e){var t=this;e.listener=e.event(function(e){return t.emitter.fire(e)})};e.prototype.unhook=function(e){e.listener&&e.listener.dispose();e.listener=null};e.prototype.dispose=function(){this.emitter.dispose()};return e}();var Cr=function(){function e(){this.buffers=[]}e.prototype.wrapEvent=function(e){var t=this;return function(r,n,i){return e(function(e){var i=t.buffers[t.buffers.length-1];i?i.push(function(){return r.call(n,e)}):r.call(n,e)},void 0,i)}};e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t);var r=e();this.buffers.pop();t.forEach(function(e){return e()});return r};return e}();var Sr=function(){function e(){var e=this;this.listening=!1;this.inputEvent=vr.None;this.inputEventListener=g.None;this.emitter=new br({onFirstListenerDidAdd:function(){e.listening=!0;e.inputEventListener=e.inputEvent(e.emitter.fire,e.emitter)},onLastListenerRemove:function(){e.listening=!1;e.inputEventListener.dispose()}});this.event=this.emitter.event}Object.defineProperty(e.prototype,"input",{set:function(e){this.inputEvent=e;if(this.listening){this.inputEventListener.dispose();this.inputEventListener=e(this.emitter.fire,this.emitter)}},enumerable:!0,configurable:!0});e.prototype.dispose=function(){this.inputEventListener.dispose();this.emitter.dispose()};return e}();var Er=Object.freeze(function(e,t){var r=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(r)}}});var Ar;!function(e){function t(t){if(t===e.None||t===e.Cancelled)return!0;if(t instanceof xr)return!0;if(!t||"object"!=typeof t)return!1;return"boolean"==typeof t.isCancellationRequested&&"function"==typeof t.onCancellationRequested}e.isCancellationToken=t;e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:vr.None});e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Er})}(Ar||(Ar={}));var xr=function(){function e(){this._isCancelled=!1;this._emitter=null}e.prototype.cancel=function(){if(!this._isCancelled){this._isCancelled=!0;if(this._emitter){this._emitter.fire(void 0);this.dispose()}}};Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){if(this._isCancelled)return Er;this._emitter||(this._emitter=new br);return this._emitter.event},enumerable:!0,configurable:!0});e.prototype.dispose=function(){if(this._emitter){this._emitter.dispose();this._emitter=null}};return e}();var Nr=function(){function e(){}Object.defineProperty(e.prototype,"token",{get:function(){this._token||(this._token=new xr);return this._token},enumerable:!0,configurable:!0});e.prototype.cancel=function(){this._token?this._token instanceof xr&&this._token.cancel():this._token=Ar.Cancelled};e.prototype.dispose=function(){this._token?this._token instanceof xr&&this._token.dispose():this._token=Ar.None};return e}();var wr=function(){function e(){this._keyCodeToStr=[];this._strToKeyCode=Object.create(null)}e.prototype.define=function(e,t){this._keyCodeToStr[e]=t;this._strToKeyCode[t.toLowerCase()]=e};e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]};e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0};return e}();var Lr=new wr;var Tr=new wr;var kr=new wr;!function(){function e(e,t,r,n){void 0===r&&(r=t);void 0===n&&(n=r);Lr.define(e,t);Tr.define(e,r);kr.define(e,n)}e(0,"unknown");e(1,"Backspace");e(2,"Tab");e(3,"Enter");e(4,"Shift");e(5,"Ctrl");e(6,"Alt");e(7,"PauseBreak");e(8,"CapsLock");e(9,"Escape");e(10,"Space");e(11,"PageUp");e(12,"PageDown");e(13,"End");e(14,"Home");e(15,"LeftArrow","Left");e(16,"UpArrow","Up");e(17,"RightArrow","Right");e(18,"DownArrow","Down");e(19,"Insert");e(20,"Delete");e(21,"0");e(22,"1");e(23,"2");e(24,"3");e(25,"4");e(26,"5");e(27,"6");e(28,"7");e(29,"8");e(30,"9");e(31,"A");e(32,"B");e(33,"C");e(34,"D");e(35,"E");e(36,"F");e(37,"G");e(38,"H");e(39,"I");e(40,"J");e(41,"K");e(42,"L");e(43,"M");e(44,"N");e(45,"O");e(46,"P");e(47,"Q");e(48,"R");e(49,"S");e(50,"T");e(51,"U");e(52,"V");e(53,"W");e(54,"X");e(55,"Y");e(56,"Z");e(57,"Meta");e(58,"ContextMenu");e(59,"F1");e(60,"F2");e(61,"F3");e(62,"F4");e(63,"F5");e(64,"F6");e(65,"F7");e(66,"F8");e(67,"F9");e(68,"F10");e(69,"F11");e(70,"F12");e(71,"F13");e(72,"F14");e(73,"F15");e(74,"F16");e(75,"F17");e(76,"F18");e(77,"F19");e(78,"NumLock");e(79,"ScrollLock");e(80,";",";","OEM_1");e(81,"=","=","OEM_PLUS");e(82,",",",","OEM_COMMA");e(83,"-","-","OEM_MINUS");e(84,".",".","OEM_PERIOD");e(85,"/","/","OEM_2");e(86,"`","`","OEM_3");e(110,"ABNT_C1");e(111,"ABNT_C2");e(87,"[","[","OEM_4");e(88,"\\","\\","OEM_5");e(89,"]","]","OEM_6");e(90,"'","'","OEM_7");e(91,"OEM_8");e(92,"OEM_102");e(93,"NumPad0");e(94,"NumPad1");e(95,"NumPad2");e(96,"NumPad3");e(97,"NumPad4");e(98,"NumPad5");e(99,"NumPad6");e(100,"NumPad7");e(101,"NumPad8");e(102,"NumPad9");e(103,"NumPad_Multiply");e(104,"NumPad_Add");e(105,"NumPad_Separator");e(106,"NumPad_Subtract");e(107,"NumPad_Decimal");e(108,"NumPad_Divide")}();var Or;!function(e){function t(e){return Lr.keyCodeToStr(e)}e.toString=t;function r(e){return Lr.strToKeyCode(e)}e.fromString=r;function n(e){return Tr.keyCodeToStr(e)}e.toUserSettingsUS=n;function i(e){return kr.keyCodeToStr(e)}e.toUserSettingsGeneral=i;function o(e){return Tr.strToKeyCode(e)||kr.strToKeyCode(e)}e.fromUserSettings=o}(Or||(Or={}));function Ir(e,t){var r;return(e|(65535&t)<<16>>>0)>>>0}function Pr(e,t){if(0===e)return null;var r=(65535&e)>>>0;var n=(4294901760&e)>>>16;if(0!==n)return new Rr([Mr(r,t),Mr(n,t)]);return new Rr([Mr(r,t)])}function Mr(e,t){var r=!!(2048&e);var n=!!(256&e);var i;var o;var a;var s;var u;return new Fr(2===t?n:r,!!(1024&e),!!(512&e),2===t?r:n,255&e)}var Fr=function(){function e(e,t,r,n,i){this.ctrlKey=e;this.shiftKey=t;this.altKey=r;this.metaKey=n;this.keyCode=i}e.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode};e.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode};e.prototype.toChord=function(){return new Rr([this])};e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode};return e}();var Rr=function(){function e(e){if(0===e.length)throw l("parts");this.parts=e}e.prototype.equals=function(e){if(null===e)return!1;if(this.parts.length!==e.parts.length)return!1;for(var t=0;t<this.parts.length;t++)if(!this.parts[t].equals(e.parts[t]))return!1;return!0};return e}();var jr=function(){function e(e,t,r,n,i,o){this.ctrlKey=e;this.shiftKey=t;this.altKey=r;this.metaKey=n;this.keyLabel=i;this.keyAriaLabel=o}return e}();var Dr=function(){function e(){}return e}();var Vr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Ur=function(e){Vr(t,e);function t(t,r,n,i){var o=e.call(this,t,r,n,i)||this;o.selectionStartLineNumber=t;o.selectionStartColumn=r;o.positionLineNumber=n;o.positionColumn=i;return o}t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)};t.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"};t.prototype.equalsSelection=function(e){return t.selectionsEqual(this,e)};t.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn};t.prototype.getDirection=function(){if(this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn)return 0;return 1};t.prototype.setEndPosition=function(e,r){if(0===this.getDirection())return new t(this.startLineNumber,this.startColumn,e,r);return new t(e,r,this.startLineNumber,this.startColumn)};t.prototype.getPosition=function(){return new Ke(this.positionLineNumber,this.positionColumn)};t.prototype.setStartPosition=function(e,r){if(0===this.getDirection())return new t(e,r,this.endLineNumber,this.endColumn);return new t(this.endLineNumber,this.endColumn,e,r)};t.fromPositions=function(e,r){void 0===r&&(r=e);return new t(e.lineNumber,e.column,r.lineNumber,r.column)};t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)};t.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(!this.selectionsEqual(e[r],t[r]))return!1;return!0};t.isISelection=function(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn};t.createWithDirection=function(e,r,n,i,o){if(0===o)return new t(e,r,n,i);return new t(n,i,e,r)};return t}(Be);var qr=function(){function e(e,t,r){this.offset=0|e;this.type=t;this.language=r}e.prototype.toString=function(){return"("+this.offset+", "+this.type+")"};return e}();var Kr=function(){function e(e,t){this.tokens=e;this.endState=t}return e}();var Br=function(){function e(e,t){this.tokens=e;this.endState=t}return e}();var Wr;!function(e){e[e["Unnecessary"]=1]="Unnecessary"}(Wr||(Wr={}));var $r;!function(e){e[e["Hint"]=1]="Hint";e[e["Info"]=2]="Info";e[e["Warning"]=4]="Warning";e[e["Error"]=8]="Error"}($r||($r={}));var Yr;!function(e){e[e["Unknown"]=0]="Unknown";e[e["Backspace"]=1]="Backspace";e[e["Tab"]=2]="Tab";e[e["Enter"]=3]="Enter";e[e["Shift"]=4]="Shift";e[e["Ctrl"]=5]="Ctrl";e[e["Alt"]=6]="Alt";e[e["PauseBreak"]=7]="PauseBreak";e[e["CapsLock"]=8]="CapsLock";e[e["Escape"]=9]="Escape";e[e["Space"]=10]="Space";e[e["PageUp"]=11]="PageUp";e[e["PageDown"]=12]="PageDown";e[e["End"]=13]="End";e[e["Home"]=14]="Home";e[e["LeftArrow"]=15]="LeftArrow";e[e["UpArrow"]=16]="UpArrow";e[e["RightArrow"]=17]="RightArrow";e[e["DownArrow"]=18]="DownArrow";e[e["Insert"]=19]="Insert";e[e["Delete"]=20]="Delete";e[e["KEY_0"]=21]="KEY_0";e[e["KEY_1"]=22]="KEY_1";e[e["KEY_2"]=23]="KEY_2";e[e["KEY_3"]=24]="KEY_3";e[e["KEY_4"]=25]="KEY_4";e[e["KEY_5"]=26]="KEY_5";e[e["KEY_6"]=27]="KEY_6";e[e["KEY_7"]=28]="KEY_7";e[e["KEY_8"]=29]="KEY_8";e[e["KEY_9"]=30]="KEY_9";e[e["KEY_A"]=31]="KEY_A";e[e["KEY_B"]=32]="KEY_B";e[e["KEY_C"]=33]="KEY_C";e[e["KEY_D"]=34]="KEY_D";e[e["KEY_E"]=35]="KEY_E";e[e["KEY_F"]=36]="KEY_F";e[e["KEY_G"]=37]="KEY_G";e[e["KEY_H"]=38]="KEY_H";e[e["KEY_I"]=39]="KEY_I";e[e["KEY_J"]=40]="KEY_J";e[e["KEY_K"]=41]="KEY_K";e[e["KEY_L"]=42]="KEY_L";e[e["KEY_M"]=43]="KEY_M";e[e["KEY_N"]=44]="KEY_N";e[e["KEY_O"]=45]="KEY_O";e[e["KEY_P"]=46]="KEY_P";e[e["KEY_Q"]=47]="KEY_Q";e[e["KEY_R"]=48]="KEY_R";e[e["KEY_S"]=49]="KEY_S";e[e["KEY_T"]=50]="KEY_T";e[e["KEY_U"]=51]="KEY_U";e[e["KEY_V"]=52]="KEY_V";e[e["KEY_W"]=53]="KEY_W";e[e["KEY_X"]=54]="KEY_X";e[e["KEY_Y"]=55]="KEY_Y";e[e["KEY_Z"]=56]="KEY_Z";e[e["Meta"]=57]="Meta";e[e["ContextMenu"]=58]="ContextMenu";e[e["F1"]=59]="F1";e[e["F2"]=60]="F2";e[e["F3"]=61]="F3";e[e["F4"]=62]="F4";e[e["F5"]=63]="F5";e[e["F6"]=64]="F6";e[e["F7"]=65]="F7";e[e["F8"]=66]="F8";e[e["F9"]=67]="F9";e[e["F10"]=68]="F10";e[e["F11"]=69]="F11";e[e["F12"]=70]="F12";e[e["F13"]=71]="F13";e[e["F14"]=72]="F14";e[e["F15"]=73]="F15";e[e["F16"]=74]="F16";e[e["F17"]=75]="F17";e[e["F18"]=76]="F18";e[e["F19"]=77]="F19";e[e["NumLock"]=78]="NumLock";e[e["ScrollLock"]=79]="ScrollLock";e[e["US_SEMICOLON"]=80]="US_SEMICOLON";e[e["US_EQUAL"]=81]="US_EQUAL";e[e["US_COMMA"]=82]="US_COMMA";e[e["US_MINUS"]=83]="US_MINUS";e[e["US_DOT"]=84]="US_DOT";e[e["US_SLASH"]=85]="US_SLASH";e[e["US_BACKTICK"]=86]="US_BACKTICK";e[e["US_OPEN_SQUARE_BRACKET"]=87]="US_OPEN_SQUARE_BRACKET";e[e["US_BACKSLASH"]=88]="US_BACKSLASH";e[e["US_CLOSE_SQUARE_BRACKET"]=89]="US_CLOSE_SQUARE_BRACKET";e[e["US_QUOTE"]=90]="US_QUOTE";e[e["OEM_8"]=91]="OEM_8";e[e["OEM_102"]=92]="OEM_102";e[e["NUMPAD_0"]=93]="NUMPAD_0";e[e["NUMPAD_1"]=94]="NUMPAD_1";e[e["NUMPAD_2"]=95]="NUMPAD_2";e[e["NUMPAD_3"]=96]="NUMPAD_3";e[e["NUMPAD_4"]=97]="NUMPAD_4";e[e["NUMPAD_5"]=98]="NUMPAD_5";e[e["NUMPAD_6"]=99]="NUMPAD_6";e[e["NUMPAD_7"]=100]="NUMPAD_7";e[e["NUMPAD_8"]=101]="NUMPAD_8";e[e["NUMPAD_9"]=102]="NUMPAD_9";e[e["NUMPAD_MULTIPLY"]=103]="NUMPAD_MULTIPLY";e[e["NUMPAD_ADD"]=104]="NUMPAD_ADD";e[e["NUMPAD_SEPARATOR"]=105]="NUMPAD_SEPARATOR";e[e["NUMPAD_SUBTRACT"]=106]="NUMPAD_SUBTRACT";e[e["NUMPAD_DECIMAL"]=107]="NUMPAD_DECIMAL";e[e["NUMPAD_DIVIDE"]=108]="NUMPAD_DIVIDE";e[e["KEY_IN_COMPOSITION"]=109]="KEY_IN_COMPOSITION";e[e["ABNT_C1"]=110]="ABNT_C1";e[e["ABNT_C2"]=111]="ABNT_C2";e[e["MAX_VALUE"]=112]="MAX_VALUE"}(Yr||(Yr={}));var Hr;!function(e){e[e["LTR"]=0]="LTR";e[e["RTL"]=1]="RTL"}(Hr||(Hr={}));var zr;!function(e){e[e["Auto"]=1]="Auto";e[e["Hidden"]=2]="Hidden";e[e["Visible"]=3]="Visible"}(zr||(zr={}));var Gr;!function(e){e[e["Left"]=1]="Left";e[e["Center"]=2]="Center";e[e["Right"]=4]="Right";e[e["Full"]=7]="Full"}(Gr||(Gr={}));var Jr;!function(e){e[e["TextDefined"]=0]="TextDefined";e[e["LF"]=1]="LF";e[e["CRLF"]=2]="CRLF"}(Jr||(Jr={}));var Qr;!function(e){e[e["LF"]=1]="LF";e[e["CRLF"]=2]="CRLF"}(Qr||(Qr={}));var Xr;!function(e){e[e["LF"]=0]="LF";e[e["CRLF"]=1]="CRLF"}(Xr||(Xr={}));var Zr;!function(e){e[e["AlwaysGrowsWhenTypingAtEdges"]=0]="AlwaysGrowsWhenTypingAtEdges";e[e["NeverGrowsWhenTypingAtEdges"]=1]="NeverGrowsWhenTypingAtEdges";e[e["GrowsOnlyWhenTypingBefore"]=2]="GrowsOnlyWhenTypingBefore";e[e["GrowsOnlyWhenTypingAfter"]=3]="GrowsOnlyWhenTypingAfter"}(Zr||(Zr={}));var en;!function(e){e[e["Smooth"]=0]="Smooth";e[e["Immediate"]=1]="Immediate"}(en||(en={}));var tn;!function(e){e[e["NotSet"]=0]="NotSet";e[e["ContentFlush"]=1]="ContentFlush";e[e["RecoverFromMarkers"]=2]="RecoverFromMarkers";e[e["Explicit"]=3]="Explicit";e[e["Paste"]=4]="Paste";e[e["Undo"]=5]="Undo";e[e["Redo"]=6]="Redo"}(tn||(tn={}));var rn;!function(e){e[e["None"]=0]="None";e[e["Small"]=1]="Small";e[e["Large"]=2]="Large";e[e["SmallBlocks"]=3]="SmallBlocks";e[e["LargeBlocks"]=4]="LargeBlocks"}(rn||(rn={}));var nn;!function(e){e[e["None"]=0]="None";e[e["Same"]=1]="Same";e[e["Indent"]=2]="Indent";e[e["DeepIndent"]=3]="DeepIndent"}(nn||(nn={}));var on;!function(e){e[e["Hidden"]=0]="Hidden";e[e["Blink"]=1]="Blink";e[e["Smooth"]=2]="Smooth";e[e["Phase"]=3]="Phase";e[e["Expand"]=4]="Expand";e[e["Solid"]=5]="Solid"}(on||(on={}));var an;!function(e){e[e["Line"]=1]="Line";e[e["Block"]=2]="Block";e[e["Underline"]=3]="Underline";e[e["LineThin"]=4]="LineThin";e[e["BlockOutline"]=5]="BlockOutline";e[e["UnderlineThin"]=6]="UnderlineThin"}(an||(an={}));var sn;!function(e){e[e["Off"]=0]="Off";e[e["On"]=1]="On";e[e["Relative"]=2]="Relative";e[e["Interval"]=3]="Interval";e[e["Custom"]=4]="Custom"}(sn||(sn={}));var un;!function(e){e[e["EXACT"]=0]="EXACT";e[e["ABOVE"]=1]="ABOVE";e[e["BELOW"]=2]="BELOW"}(un||(un={}));var cn;!function(e){e[e["TOP_RIGHT_CORNER"]=0]="TOP_RIGHT_CORNER";e[e["BOTTOM_RIGHT_CORNER"]=1]="BOTTOM_RIGHT_CORNER";e[e["TOP_CENTER"]=2]="TOP_CENTER"}(cn||(cn={}));var fn;!function(e){e[e["UNKNOWN"]=0]="UNKNOWN";e[e["TEXTAREA"]=1]="TEXTAREA";e[e["GUTTER_GLYPH_MARGIN"]=2]="GUTTER_GLYPH_MARGIN";e[e["GUTTER_LINE_NUMBERS"]=3]="GUTTER_LINE_NUMBERS";e[e["GUTTER_LINE_DECORATIONS"]=4]="GUTTER_LINE_DECORATIONS";e[e["GUTTER_VIEW_ZONE"]=5]="GUTTER_VIEW_ZONE";e[e["CONTENT_TEXT"]=6]="CONTENT_TEXT";e[e["CONTENT_EMPTY"]=7]="CONTENT_EMPTY";e[e["CONTENT_VIEW_ZONE"]=8]="CONTENT_VIEW_ZONE";e[e["CONTENT_WIDGET"]=9]="CONTENT_WIDGET";e[e["OVERVIEW_RULER"]=10]="OVERVIEW_RULER";e[e["SCROLLBAR"]=11]="SCROLLBAR";e[e["OVERLAY_WIDGET"]=12]="OVERLAY_WIDGET";e[e["OUTSIDE_EDITOR"]=13]="OUTSIDE_EDITOR"}(fn||(fn={}));var ln;!function(e){e[e["None"]=0]="None";e[e["Indent"]=1]="Indent";e[e["IndentOutdent"]=2]="IndentOutdent";e[e["Outdent"]=3]="Outdent"}(ln||(ln={}));var hn;!function(e){e[e["Method"]=0]="Method";e[e["Function"]=1]="Function";e[e["Constructor"]=2]="Constructor";e[e["Field"]=3]="Field";e[e["Variable"]=4]="Variable";e[e["Class"]=5]="Class";e[e["Struct"]=6]="Struct";e[e["Interface"]=7]="Interface";e[e["Module"]=8]="Module";e[e["Property"]=9]="Property";e[e["Event"]=10]="Event";e[e["Operator"]=11]="Operator";e[e["Unit"]=12]="Unit";e[e["Value"]=13]="Value";e[e["Constant"]=14]="Constant";e[e["Enum"]=15]="Enum";e[e["EnumMember"]=16]="EnumMember";e[e["Keyword"]=17]="Keyword";e[e["Text"]=18]="Text";e[e["Color"]=19]="Color";e[e["File"]=20]="File";e[e["Reference"]=21]="Reference";e[e["Customcolor"]=22]="Customcolor";e[e["Folder"]=23]="Folder";e[e["TypeParameter"]=24]="TypeParameter";e[e["Snippet"]=25]="Snippet"}(hn||(hn={}));var dn;!function(e){e[e["KeepWhitespace"]=1]="KeepWhitespace";e[e["InsertAsSnippet"]=4]="InsertAsSnippet"}(dn||(dn={}));var pn;!function(e){e[e["Invoke"]=0]="Invoke";e[e["TriggerCharacter"]=1]="TriggerCharacter";e[e["TriggerForIncompleteCompletions"]=2]="TriggerForIncompleteCompletions"}(pn||(pn={}));var mn;!function(e){e[e["Invoke"]=1]="Invoke";e[e["TriggerCharacter"]=2]="TriggerCharacter";e[e["ContentChange"]=3]="ContentChange"}(mn||(mn={}));var vn;!function(e){e[e["Text"]=0]="Text";e[e["Read"]=1]="Read";e[e["Write"]=2]="Write"}(vn||(vn={}));var gn;!function(e){e[e["File"]=0]="File";e[e["Module"]=1]="Module";e[e["Namespace"]=2]="Namespace";e[e["Package"]=3]="Package";e[e["Class"]=4]="Class";e[e["Method"]=5]="Method";e[e["Property"]=6]="Property";e[e["Field"]=7]="Field";e[e["Constructor"]=8]="Constructor";e[e["Enum"]=9]="Enum";e[e["Interface"]=10]="Interface";e[e["Function"]=11]="Function";e[e["Variable"]=12]="Variable";e[e["Constant"]=13]="Constant";e[e["String"]=14]="String";e[e["Number"]=15]="Number";e[e["Boolean"]=16]="Boolean";e[e["Array"]=17]="Array";e[e["Object"]=18]="Object";e[e["Key"]=19]="Key";e[e["Null"]=20]="Null";e[e["EnumMember"]=21]="EnumMember";e[e["Struct"]=22]="Struct";e[e["Event"]=23]="Event";e[e["Operator"]=24]="Operator";e[e["TypeParameter"]=25]="TypeParameter"}(gn||(gn={}));var yn=function(){function e(){}e.chord=function(e,t){return Ir(e,t)};e.CtrlCmd=2048;e.Shift=1024;e.Alt=512;e.WinCtrl=256;return e}();function bn(){return{editor:void 0,languages:void 0,CancellationTokenSource:Nr,Emitter:br,KeyCode:Yr,KeyMod:yn,Position:Ke,Range:Be,Selection:Ur,SelectionDirection:Hr,MarkerSeverity:$r,MarkerTag:Wr,Uri:Fe,Token:qr}}var _n=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var Cn=function(e){_n(t,e);function t(){return null!==e&&e.apply(this,arguments)||this}Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0});Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0});t.prototype.getValue=function(){return this.getText()};t.prototype.getLinesContent=function(){return this._lines.slice(0)};t.prototype.getLineCount=function(){return this._lines.length};t.prototype.getLineContent=function(e){return this._lines[e-1]};t.prototype.getWordAtPosition=function(e,t){var r=tr(e.column,Xt(t),this._lines[e.lineNumber-1],0);if(r)return new Be(e.lineNumber,r.startColumn,e.lineNumber,r.endColumn);return null};t.prototype.getWordUntilPosition=function(e,t){var r=this.getWordAtPosition(e,t);if(!r)return{word:"",startColumn:e.column,endColumn:e.column};return{word:this._lines[e.lineNumber-1].substring(r.startColumn-1,e.column-1),startColumn:r.startColumn,endColumn:e.column}};t.prototype.createWordIterator=function(e){var t=this;var r;var n=0;var i;var o=0;var a=[];var s=function(){if(o<a.length){var u=i.substring(a[o].start,a[o].end);o+=1;r?r.value=u:r={done:!1,value:u};return r}if(n>=t._lines.length)return ye;i=t._lines[n];a=t._wordenize(i,e);o=0;n+=1;return s()};return{next:s}};t.prototype.getLineWords=function(e,t){var r=this._lines[e-1];var n;var i=[];for(var o=0,a=this._wordenize(r,t);o<a.length;o++){var s=a[o];i.push({word:r.substring(s.start,s.end),startColumn:s.start+1,endColumn:s.end+1})}return i};t.prototype._wordenize=function(e,t){var r=[];var n;t.lastIndex=0;for(;(n=t.exec(e))&&0!==n[0].length;)r.push({start:n.index,end:n.index+n[0].length});return r};t.prototype.getValueInRange=function(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol;var r=e.startLineNumber-1;var n=e.endLineNumber-1;var i=[];i.push(this._lines[r].substring(e.startColumn-1));for(var o=r+1;o<n;o++)i.push(this._lines[o]);i.push(this._lines[n].substring(0,e.endColumn-1));return i.join(t)};t.prototype.offsetAt=function(e){e=this._validatePosition(e);this._ensureLineStarts();return this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)};t.prototype.positionAt=function(e){e=Math.floor(e);e=Math.max(0,e);this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e);var r=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,r)}};t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn});var r=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});if(t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||r.lineNumber!==e.endLineNumber||r.column!==e.endColumn)return{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:r.lineNumber,endColumn:r.column};return e};t.prototype._validatePosition=function(e){if(!Ke.isIPosition(e))throw new Error("bad position");var t=e.lineNumber,r=e.column;var n=!1;if(t<1){t=1;r=1;n=!0}else if(t>this._lines.length){t=this._lines.length;r=this._lines[t-1].length+1;n=!0}else{var i=this._lines[t-1].length+1;if(r<1){r=1;n=!0}else if(r>i){r=i;n=!0}}return n?{lineNumber:t,column:r}:e};return t}(zt);var Sn;var En=function(e){_n(t,e);function t(t){var r=e.call(this,t)||this;r._models=Object.create(null);return r}t.prototype.dispose=function(){this._models=Object.create(null)};t.prototype._getModel=function(e){return this._models[e]};t.prototype._getModels=function(){var e=this;var t=[];Object.keys(this._models).forEach(function(r){return t.push(e._models[r])});return t};t.prototype.acceptNewModel=function(e){this._models[e.url]=new Cn(Fe.parse(e.url),e.lines,e.EOL,e.versionId)};t.prototype.acceptModelChanged=function(e,t){if(!this._models[e])return;var r;this._models[e].onEvents(t)};t.prototype.acceptRemovedModel=function(e){if(!this._models[e])return;delete this._models[e]};return t}(function(){function e(e){this._foreignModuleFactory=e;this._foreignModule=null}e.prototype.computeDiff=function(e,t,r){var n=this._getModel(e);var i=this._getModel(t);if(!n||!i)return Promise.resolve(null);var o=n.getLinesContent();var a=i.getLinesContent();var s;var u=new Ut(o,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:r,shouldMakePrettyDiff:!0}).computeDiff();var c=!(u.length>0)&&this._modelsAreIdentical(n,i);return Promise.resolve({identical:c,changes:u})};e.prototype._modelsAreIdentical=function(e,t){var r=e.getLineCount();var n;if(r!==t.getLineCount())return!1;for(var i=1;i<=r;i++){var o;var a;if(e.getLineContent(i)!==t.getLineContent(i))return!1}return!0};e.prototype.computeMoreMinimalEdits=function(t,r){var n=this._getModel(t);if(!n)return Promise.resolve(r);var i=[];var o=void 0;for(var a=0,s=r=J(r,function(e,t){if(e.range&&t.range)return Be.compareRangesUsingStarts(e.range,t.range);var r;var n;return(e.range?0:1)-(t.range?0:1)});a<s.length;a++){var u=s[a],c=u.range,f=u.text,l=u.eol;"number"==typeof l&&(o=l);if(Be.isEmpty(c)&&!f)continue;var h=n.getValueInRange(c);if(h===(f=f.replace(/\r\n|\n|\r/g,n.eol)))continue;if(Math.max(f.length,h.length)>e._diffLimit){i.push({range:c,text:f});continue}var d=le(h,f,!1);var p=n.offsetAt(Be.lift(c).getStartPosition());for(var m=0,v=d;m<v.length;m++){var g=v[m];var y=n.positionAt(p+g.originalStart);var b=n.positionAt(p+g.originalStart+g.originalLength);var _={text:f.substr(g.modifiedStart,g.modifiedLength),range:{startLineNumber:y.lineNumber,startColumn:y.column,endLineNumber:b.lineNumber,endColumn:b.column}};n.getValueInRange(_.range)!==_.text&&i.push(_)}}"number"==typeof o&&i.push({eol:o,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}});return Promise.resolve(i)};e.prototype.computeLinks=function(e){var t=this._getModel(e);if(!t)return Promise.resolve(null);return Promise.resolve(fr(t))};e.prototype.textualSuggest=function(t,r,n,i){var o=this._getModel(t);if(!o)return Promise.resolve(null);var a=[];var s=new RegExp(n,i);var u=o.getWordUntilPosition(r,s);var c=Object.create(null);c[u.word]=!0;for(var f=o.createWordIterator(s),l=f.next();!l.done&&a.length<=e._suggestionsLimit;l=f.next()){var h=l.value;if(c[h])continue;c[h]=!0;if(!isNaN(Number(h)))continue;a.push({kind:18,label:h,insertText:h,range:{startLineNumber:r.lineNumber,startColumn:u.startColumn,endLineNumber:r.lineNumber,endColumn:u.endColumn}})}return Promise.resolve({suggestions:a})};e.prototype.computeWordRanges=function(e,t,r,n){var i=this._getModel(e);if(!i)return Promise.resolve(Object.create(null));var o=new RegExp(r,n);var a=Object.create(null);for(var s=t.startLineNumber;s<t.endLineNumber;s++){var u;for(var c=0,f=i.getLineWords(s,o);c<f.length;c++){var l=f[c];if(!isNaN(Number(l.word)))continue;var h=a[l.word];if(!h){h=[];a[l.word]=h}h.push({startLineNumber:s,startColumn:l.startColumn,endLineNumber:s,endColumn:l.endColumn})}}return Promise.resolve(a)};e.prototype.navigateValueSet=function(e,t,r,n,i){var o=this._getModel(e);if(!o)return Promise.resolve(null);var a=new RegExp(n,i);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var s=o.getValueInRange(t);var u=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},a);if(!u)return Promise.resolve(null);var c=o.getValueInRange(u);var f=lr.INSTANCE.navigateValueSet(t,s,u,c,r);return Promise.resolve(f)};e.prototype.loadForeignModule=function(e,t){var r=this;var n={getMirrorModels:function(){return r._getModels()}};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(n,t);var i=[];for(var o=0,a=F(this._foreignModule);o<a.length;o++){var s=a[o];"function"==typeof this._foreignModule[s]&&i.push(s)}return Promise.resolve(i)}return Promise.reject(new Error("Unexpected usage"))};e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return Promise.reject(e)}};e._diffLimit=1e4;e._suggestionsLimit=1e4;return e}());function An(){return new En(null)}"function"==typeof importScripts&&(b["a"].monaco=bn());var xn=!1;function Nn(e){if(xn)return;xn=!0;var t=new En(e);var r=new B(function(e){self.postMessage(e)},t);self.onmessage=function(e){r.onmessage(e.data)}}self.onmessage=function(e){xn||Nn(null)};var wn;!function(e){function t(e,t){return{line:e,character:t}}e.create=t;function r(e){var t=e;return Si.objectLiteral(t)&&Si.number(t.line)&&Si.number(t.character)}e.is=r}(wn||(wn={}));var Ln;!function(e){function t(e,t,r,n){if(Si.number(e)&&Si.number(t)&&Si.number(r)&&Si.number(n))return{start:wn.create(e,t),end:wn.create(r,n)};if(wn.is(e)&&wn.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+r+", "+n+"]")}e.create=t;function r(e){var t=e;return Si.objectLiteral(t)&&wn.is(t.start)&&wn.is(t.end)}e.is=r}(Ln||(Ln={}));var Tn;!function(e){function t(e,t){return{uri:e,range:t}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Ln.is(t.range)&&(Si.string(t.uri)||Si.undefined(t.uri))}e.is=r}(Tn||(Tn={}));var kn;!function(e){function t(e,t,r,n){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:n}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Ln.is(t.targetRange)&&Si.string(t.targetUri)&&(Ln.is(t.targetSelectionRange)||Si.undefined(t.targetSelectionRange))&&(Ln.is(t.originSelectionRange)||Si.undefined(t.originSelectionRange))}e.is=r}(kn||(kn={}));var On;!function(e){function t(e,t,r,n){return{red:e,green:t,blue:r,alpha:n}}e.create=t;function r(e){var t=e;return Si.number(t.red)&&Si.number(t.green)&&Si.number(t.blue)&&Si.number(t.alpha)}e.is=r}(On||(On={}));var In;!function(e){function t(e,t){return{range:e,color:t}}e.create=t;function r(e){var t=e;return Ln.is(t.range)&&On.is(t.color)}e.is=r}(In||(In={}));var Pn;!function(e){function t(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}}e.create=t;function r(e){var t=e;return Si.string(t.label)&&(Si.undefined(t.textEdit)||Un.is(t))&&(Si.undefined(t.additionalTextEdits)||Si.typedArray(t.additionalTextEdits,Un.is))}e.is=r}(Pn||(Pn={}));var Mn;!function(e){e["Comment"]="comment";e["Imports"]="imports";e["Region"]="region"}(Mn||(Mn={}));var Fn;!function(e){function t(e,t,r,n,i){var o={startLine:e,endLine:t};Si.defined(r)&&(o.startCharacter=r);Si.defined(n)&&(o.endCharacter=n);Si.defined(i)&&(o.kind=i);return o}e.create=t;function r(e){var t=e;return Si.number(t.startLine)&&Si.number(t.startLine)&&(Si.undefined(t.startCharacter)||Si.number(t.startCharacter))&&(Si.undefined(t.endCharacter)||Si.number(t.endCharacter))&&(Si.undefined(t.kind)||Si.string(t.kind))}e.is=r}(Fn||(Fn={}));var Rn;!function(e){function t(e,t){return{location:e,message:t}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Tn.is(t.location)&&Si.string(t.message)}e.is=r}(Rn||(Rn={}));var jn;!function(e){e.Error=1;e.Warning=2;e.Information=3;e.Hint=4}(jn||(jn={}));var Dn;!function(e){function t(e,t,r,n,i,o){var a={range:e,message:t};Si.defined(r)&&(a.severity=r);Si.defined(n)&&(a.code=n);Si.defined(i)&&(a.source=i);Si.defined(o)&&(a.relatedInformation=o);return a}e.create=t;function r(e){var t=e;return Si.defined(t)&&Ln.is(t.range)&&Si.string(t.message)&&(Si.number(t.severity)||Si.undefined(t.severity))&&(Si.number(t.code)||Si.string(t.code)||Si.undefined(t.code))&&(Si.string(t.source)||Si.undefined(t.source))&&(Si.undefined(t.relatedInformation)||Si.typedArray(t.relatedInformation,Rn.is))}e.is=r}(Dn||(Dn={}));var Vn;!function(e){function t(e,t){var r=[];for(var n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={title:e,command:t};Si.defined(r)&&r.length>0&&(i.arguments=r);return i}e.create=t;function r(e){var t=e;return Si.defined(t)&&Si.string(t.title)&&Si.string(t.command)}e.is=r}(Vn||(Vn={}));var Un;!function(e){function t(e,t){return{range:e,newText:t}}e.replace=t;function r(e,t){return{range:{start:e,end:e},newText:t}}e.insert=r;function n(e){return{range:e,newText:""}}e.del=n;function i(e){var t=e;return Si.objectLiteral(t)&&Si.string(t.newText)&&Ln.is(t.range)}e.is=i}(Un||(Un={}));var qn;!function(e){function t(e,t){return{textDocument:e,edits:t}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Gn.is(t.textDocument)&&Array.isArray(t.edits)}e.is=r}(qn||(qn={}));var Kn;!function(e){function t(e,t){var r={kind:"create",uri:e};void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t);return r}e.create=t;function r(e){var t=e;return t&&"create"===t.kind&&Si.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Si.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Si.boolean(t.options.ignoreIfExists)))}e.is=r}(Kn||(Kn={}));var Bn;!function(e){function t(e,t,r){var n={kind:"rename",oldUri:e,newUri:t};void 0===r||void 0===r.overwrite&&void 0===r.ignoreIfExists||(n.options=r);return n}e.create=t;function r(e){var t=e;return t&&"rename"===t.kind&&Si.string(t.oldUri)&&Si.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Si.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Si.boolean(t.options.ignoreIfExists)))}e.is=r}(Bn||(Bn={}));var Wn;!function(e){function t(e,t){var r={kind:"delete",uri:e};void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t);return r}e.create=t;function r(e){var t=e;return t&&"delete"===t.kind&&Si.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Si.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Si.boolean(t.options.ignoreIfNotExists)))}e.is=r}(Wn||(Wn={}));var $n;!function(e){function t(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every(function(e){return Si.string(e.kind)?Kn.is(e)||Bn.is(e)||Wn.is(e):qn.is(e)}))}e.is=t}($n||($n={}));var Yn=function(){function e(e){this.edits=e}e.prototype.insert=function(e,t){this.edits.push(Un.insert(e,t))};e.prototype.replace=function(e,t){this.edits.push(Un.replace(e,t))};e.prototype.delete=function(e){this.edits.push(Un.del(e))};e.prototype.add=function(e){this.edits.push(e)};e.prototype.all=function(){return this.edits};e.prototype.clear=function(){this.edits.splice(0,this.edits.length)};return e}();var Hn=function(){function e(e){var t=this;this._textEditChanges=Object.create(null);if(e){this._workspaceEdit=e;e.documentChanges?e.documentChanges.forEach(function(e){if(qn.is(e)){var r=new Yn(e.edits);t._textEditChanges[e.textDocument.uri]=r}}):e.changes&&Object.keys(e.changes).forEach(function(r){var n=new Yn(e.changes[r]);t._textEditChanges[r]=n})}}Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0});e.prototype.getTextEditChange=function(e){if(Gn.is(e)){this._workspaceEdit||(this._workspaceEdit={documentChanges:[]});if(!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;var r;if(!(r=this._textEditChanges[t.uri])){var n;var i={textDocument:t,edits:n=[]};this._workspaceEdit.documentChanges.push(i);r=new Yn(n);this._textEditChanges[t.uri]=r}return r}this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)});if(!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var n=[];this._workspaceEdit.changes[e]=n;r=new Yn(n);this._textEditChanges[e]=r}return r};e.prototype.createFile=function(e,t){this.checkDocumentChanges();this._workspaceEdit.documentChanges.push(Kn.create(e,t))};e.prototype.renameFile=function(e,t,r){this.checkDocumentChanges();this._workspaceEdit.documentChanges.push(Bn.create(e,t,r))};e.prototype.deleteFile=function(e,t){this.checkDocumentChanges();this._workspaceEdit.documentChanges.push(Wn.create(e,t))};e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")};return e}();var zn;!function(e){function t(e){return{uri:e}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Si.string(t.uri)}e.is=r}(zn||(zn={}));var Gn;!function(e){function t(e,t){return{uri:e,version:t}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Si.string(t.uri)&&(null===t.version||Si.number(t.version))}e.is=r}(Gn||(Gn={}));var Jn;!function(e){function t(e,t,r,n){return{uri:e,languageId:t,version:r,text:n}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Si.string(t.uri)&&Si.string(t.languageId)&&Si.number(t.version)&&Si.string(t.text)}e.is=r}(Jn||(Jn={}));var Qn;!function(e){e.PlainText="plaintext";e.Markdown="markdown"}(Qn||(Qn={}));!function(e){function t(t){var r=t;return r===e.PlainText||r===e.Markdown}e.is=t}(Qn||(Qn={}));var Xn;!function(e){function t(e){var t=e;return Si.objectLiteral(e)&&Qn.is(t.kind)&&Si.string(t.value)}e.is=t}(Xn||(Xn={}));var Zn;!function(e){e.Text=1;e.Method=2;e.Function=3;e.Constructor=4;e.Field=5;e.Variable=6;e.Class=7;e.Interface=8;e.Module=9;e.Property=10;e.Unit=11;e.Value=12;e.Enum=13;e.Keyword=14;e.Snippet=15;e.Color=16;e.File=17;e.Reference=18;e.Folder=19;e.EnumMember=20;e.Constant=21;e.Struct=22;e.Event=23;e.Operator=24;e.TypeParameter=25}(Zn||(Zn={}));var ei;!function(e){e.PlainText=1;e.Snippet=2}(ei||(ei={}));var ti;!function(e){function t(e){return{label:e}}e.create=t}(ti||(ti={}));var ri;!function(e){function t(e,t){return{items:e||[],isIncomplete:!!t}}e.create=t}(ri||(ri={}));var ni;!function(e){function t(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(e){var t=e;return Si.string(t)||Si.objectLiteral(t)&&Si.string(t.language)&&Si.string(t.value)}e.is=r}(ni||(ni={}));var ii;!function(e){function t(e){var t=e;return!!t&&Si.objectLiteral(t)&&(Xn.is(t.contents)||ni.is(t.contents)||Si.typedArray(t.contents,ni.is))&&(void 0===e.range||Ln.is(e.range))}e.is=t}(ii||(ii={}));var oi;!function(e){function t(e,t){return t?{label:e,documentation:t}:{label:e}}e.create=t}(oi||(oi={}));var ai;!function(e){function t(e,t){var r=[];for(var n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={label:e};Si.defined(t)&&(i.documentation=t);Si.defined(r)?i.parameters=r:i.parameters=[];return i}e.create=t}(ai||(ai={}));var si;!function(e){e.Text=1;e.Read=2;e.Write=3}(si||(si={}));var ui;!function(e){function t(e,t){var r={range:e};Si.number(t)&&(r.kind=t);return r}e.create=t}(ui||(ui={}));var ci;!function(e){e.File=1;e.Module=2;e.Namespace=3;e.Package=4;e.Class=5;e.Method=6;e.Property=7;e.Field=8;e.Constructor=9;e.Enum=10;e.Interface=11;e.Function=12;e.Variable=13;e.Constant=14;e.String=15;e.Number=16;e.Boolean=17;e.Array=18;e.Object=19;e.Key=20;e.Null=21;e.EnumMember=22;e.Struct=23;e.Event=24;e.Operator=25;e.TypeParameter=26}(ci||(ci={}));var fi;!function(e){function t(e,t,r,n,i){var o={name:e,kind:t,location:{uri:n,range:r}};i&&(o.containerName=i);return o}e.create=t}(fi||(fi={}));var li=function(){function e(){}return e}();!function(e){function t(e,t,r,n,i,o){var a={name:e,detail:t,kind:r,range:n,selectionRange:i};void 0!==o&&(a.children=o);return a}e.create=t;function r(e){var t=e;return t&&Si.string(t.name)&&Si.number(t.kind)&&Ln.is(t.range)&&Ln.is(t.selectionRange)&&(void 0===t.detail||Si.string(t.detail))&&(void 0===t.deprecated||Si.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}e.is=r}(li||(li={}));var hi;!function(e){e.QuickFix="quickfix";e.Refactor="refactor";e.RefactorExtract="refactor.extract";e.RefactorInline="refactor.inline";e.RefactorRewrite="refactor.rewrite";e.Source="source";e.SourceOrganizeImports="source.organizeImports"}(hi||(hi={}));var di;!function(e){function t(e,t){var r={diagnostics:e};void 0!==t&&null!==t&&(r.only=t);return r}e.create=t;function r(e){var t=e;return Si.defined(t)&&Si.typedArray(t.diagnostics,Dn.is)&&(void 0===t.only||Si.typedArray(t.only,Si.string))}e.is=r}(di||(di={}));var pi;!function(e){function t(e,t,r){var n={title:e};Vn.is(t)?n.command=t:n.edit=t;void 0!==r&&(n.kind=r);return n}e.create=t;function r(e){var t=e;return t&&Si.string(t.title)&&(void 0===t.diagnostics||Si.typedArray(t.diagnostics,Dn.is))&&(void 0===t.kind||Si.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||Vn.is(t.command))&&(void 0===t.edit||$n.is(t.edit))}e.is=r}(pi||(pi={}));var mi;!function(e){function t(e,t){var r={range:e};Si.defined(t)&&(r.data=t);return r}e.create=t;function r(e){var t=e;return Si.defined(t)&&Ln.is(t.range)&&(Si.undefined(t.command)||Vn.is(t.command))}e.is=r}(mi||(mi={}));var vi;!function(e){function t(e,t){return{tabSize:e,insertSpaces:t}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Si.number(t.tabSize)&&Si.boolean(t.insertSpaces)}e.is=r}(vi||(vi={}));var gi=function(){function e(){}return e}();!function(e){function t(e,t,r){return{range:e,target:t,data:r}}e.create=t;function r(e){var t=e;return Si.defined(t)&&Ln.is(t.range)&&(Si.undefined(t.target)||Si.string(t.target))}e.is=r}(gi||(gi={}));var yi=["\n","\r\n","\r"];var bi;!function(e){function t(e,t,r,n){return new Ci(e,t,r,n)}e.create=t;function r(e){var t=e;return!!(Si.defined(t)&&Si.string(t.uri)&&(Si.undefined(t.languageId)||Si.string(t.languageId))&&Si.number(t.lineCount)&&Si.func(t.getText)&&Si.func(t.positionAt)&&Si.func(t.offsetAt))}e.is=r;function n(e,t){var r=e.getText();var n=i(t,function(e,t){var r=e.range.start.line-t.range.start.line;if(0===r)return e.range.start.character-t.range.start.character;return r});var o=r.length;for(var a=n.length-1;a>=0;a--){var s=n[a];var u=e.offsetAt(s.range.start);var c=e.offsetAt(s.range.end);if(!(c<=o))throw new Error("Overlapping edit");r=r.substring(0,u)+s.newText+r.substring(c,r.length);o=u}return r}e.applyEdits=n;function i(e,t){if(e.length<=1)return e;var r=e.length/2|0;var n=e.slice(0,r);var o=e.slice(r);i(n,t);i(o,t);var a=0;var s=0;var u=0;for(;a<n.length&&s<o.length;){var c=t(n[a],o[s]);e[u++]=c<=0?n[a++]:o[s++]}for(;a<n.length;)e[u++]=n[a++];for(;s<o.length;)e[u++]=o[s++];return e}}(bi||(bi={}));var _i;!function(e){e.Manual=1;e.AfterDelay=2;e.FocusOut=3}(_i||(_i={}));var Ci=function(){function e(e,t,r,n){this._uri=e;this._languageId=t;this._version=r;this._content=n;this._lineOffsets=null}Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0});e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start);var r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content};e.prototype.update=function(e,t){this._content=e.text;this._version=t;this._lineOffsets=null};e.prototype.getLineOffsets=function(){if(null===this._lineOffsets){var e=[];var t=this._content;var r=!0;for(var n=0;n<t.length;n++){if(r){e.push(n);r=!1}var i=t.charAt(n);r="\r"===i||"\n"===i;"\r"===i&&n+1<t.length&&"\n"===t.charAt(n+1)&&n++}r&&t.length>0&&e.push(t.length);this._lineOffsets=e}return this._lineOffsets};e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets();var r=0,n=t.length;if(0===n)return wn.create(0,e);for(;r<n;){var i=Math.floor((r+n)/2);t[i]>e?n=i:r=i+1}var o=r-1;return wn.create(o,e-t[o])};e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var r=t[e.line];var n=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,n),r)};Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0});return e}();var Si;!function(e){var t=Object.prototype.toString;function r(e){return void 0!==e}e.defined=r;function n(e){return void 0===e}e.undefined=n;function i(e){return!0===e||!1===e}e.boolean=i;function o(e){return"[object String]"===t.call(e)}e.string=o;function a(e){return"[object Number]"===t.call(e)}e.number=a;function s(e){return"[object Function]"===t.call(e)}e.func=s;function u(e){return null!==e&&"object"==typeof e}e.objectLiteral=u;function c(e,t){return Array.isArray(e)&&e.every(t)}e.typedArray=c}(Si||(Si={}));function Ei(e,t){void 0===t&&(t=!1);var r=0,n=e.length,i="",o=0,a=16,s=0;function u(t,n){var i=0;var o=0;for(;i<t||!n;){var a=e.charCodeAt(r);if(a>=48&&a<=57)o=16*o+a-48;else if(a>=65&&a<=70)o=16*o+a-65+10;else{if(!(a>=97&&a<=102))break;o=16*o+a-97+10}r++;i++}i<t&&(o=-1);return o}function c(e){r=e;i="";o=0;a=16;s=0}function f(){var t=r;if(48===e.charCodeAt(r))r++;else{r++;for(;r<e.length&&Ni(e.charCodeAt(r));)r++}if(r<e.length&&46===e.charCodeAt(r)){if(!(++r<e.length&&Ni(e.charCodeAt(r)))){s=3;return e.substring(t,r)}r++;for(;r<e.length&&Ni(e.charCodeAt(r));)r++}var n=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r))){(++r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++;if(r<e.length&&Ni(e.charCodeAt(r))){r++;for(;r<e.length&&Ni(e.charCodeAt(r));)r++;n=r}else s=3}return e.substring(t,n)}function l(){var t="",i=r;for(;;){if(r>=n){t+=e.substring(i,r);s=2;break}var o=e.charCodeAt(r);if(34===o){t+=e.substring(i,r);r++;break}if(92===o){t+=e.substring(i,r);if(++r>=n){s=2;break}switch(o=e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=u(4,!0);a>=0?t+=String.fromCharCode(a):s=4;break;default:s=5}i=r;continue}if(o>=0&&o<=31){if(xi(o)){t+=e.substring(i,r);s=2;break}s=6}r++}return t}function h(){i="";s=0;o=r;if(r>=n){o=n;return a=17}var t=e.charCodeAt(r);if(Ai(t)){do{r++;i+=String.fromCharCode(t);t=e.charCodeAt(r)}while(Ai(t));return a=15}if(xi(t)){r++;i+=String.fromCharCode(t);if(13===t&&10===e.charCodeAt(r)){r++;i+="\n"}return a=14}switch(t){case 123:r++;return a=1;case 125:r++;return a=2;case 91:r++;return a=3;case 93:r++;return a=4;case 58:r++;return a=6;case 44:r++;return a=5;case 34:r++;i=l();return a=10;case 47:var u=r-1;if(47===e.charCodeAt(r+1)){r+=2;for(;r<n&&!xi(e.charCodeAt(r));)r++;i=e.substring(u,r);return a=12}if(42===e.charCodeAt(r+1)){r+=2;var c=n-1;var h=!1;for(;r<c;){var p;if(42===e.charCodeAt(r)&&47===e.charCodeAt(r+1)){r+=2;h=!0;break}r++}if(!h){r++;s=1}i=e.substring(u,r);return a=13}i+=String.fromCharCode(t);r++;return a=16;case 45:i+=String.fromCharCode(t);if(++r===n||!Ni(e.charCodeAt(r)))return a=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:i+=f();return a=11;default:for(;r<n&&d(t);){r++;t=e.charCodeAt(r)}if(o!==r){switch(i=e.substring(o,r)){case"true":return a=8;case"false":return a=9;case"null":return a=7}return a=16}i+=String.fromCharCode(t);r++;return a=16}}function d(e){if(Ai(e)||xi(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function p(){var e;do{e=h()}while(e>=12&&e<=15);return e}return{setPosition:c,getPosition:function(){return r},scan:t?p:h,getToken:function(){return a},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return r-o},getTokenError:function(){return s}}}function Ai(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function xi(e){return 10===e||13===e||8232===e||8233===e}function Ni(e){return e>=48&&e<=57}function wi(e,t,r){var n;var i;var o;var a;var s;if(t){a=t.offset;s=a+t.length;o=a;for(;o>0&&!Oi(e,o-1);)o--;var u=s;for(;u<e.length&&!Oi(e,u);)u++;i=e.substring(o,u);n=Ti(i,r)}else{i=e;n=0;o=0;a=0;s=e.length}var c=ki(r,e);var f=!1;var l=0;var h;h=r.insertSpaces?Li(" ",r.tabSize||4):"\t";var d=Ei(i,!1);var p=!1;function m(){return c+Li(h,n+l)}function v(){var e=d.scan();f=!1;for(;15===e||14===e;){f=f||14===e;e=d.scan()}p=16===e||0!==d.getTokenError();return e}var g=[];function y(t,r,n){!p&&r<s&&n>a&&e.substring(r,n)!==t&&g.push({offset:r,length:n-r,content:t})}var b=v();if(17!==b){var _=d.getTokenOffset()+o;var C;y(Li(h,n),o,_)}for(;17!==b;){var S=d.getTokenOffset()+d.getTokenLength()+o;var E=v();var A="";for(;!f&&(12===E||13===E);){var x;y(" ",S,d.getTokenOffset()+o);S=d.getTokenOffset()+d.getTokenLength()+o;A=12===E?m():"";E=v()}if(2===E){if(1!==b){l--;A=m()}}else if(4===E){if(3!==b){l--;A=m()}}else{switch(b){case 3:case 1:l++;A=m();break;case 5:case 12:A=m();break;case 13:A=f?m():" ";break;case 6:A=" ";break;case 10:if(6===E){A="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===E||13===E?A=" ":5!==E&&17!==E&&(p=!0);break;case 16:p=!0}!f||12!==E&&13!==E||(A=m())}var N;y(A,S,d.getTokenOffset()+o);b=E}return g}function Li(e,t){var r="";for(var n=0;n<t;n++)r+=e;return r}function Ti(e,t){var r=0;var n=0;var i=t.tabSize||4;for(;r<e.length;){var o=e.charAt(r);if(" "===o)n++;else{if("\t"!==o)break;n+=i}r++}return Math.floor(n/i)}function ki(e,t){for(var r=0;r<t.length;r++){var n=t.charAt(r);if("\r"===n){if(r+1<t.length&&"\n"===t.charAt(r+1))return"\r\n";return"\r"}if("\n"===n)return"\n"}return e&&e.eol||"\n"}function Oi(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var Ii;!function(e){e.DEFAULT={allowTrailingComma:!1}}(Ii||(Ii={}));function Pi(e,t){var r=[];var n=new Object;var i=void 0;var o={value:{},offset:0,length:0,type:"object",parent:void 0};var a=!1;function s(e,t,r,n){o.value=e;o.offset=t;o.length=r;o.type=n;o.colonOffset=void 0;i=o}try{qi(e,{onObjectBegin:function(e,o){if(t<=e)throw n;i=void 0;a=t>e;r.push("")},onObjectProperty:function(e,i,o){if(t<i)throw n;s(e,i,o,"property");r[r.length-1]=e;if(t<=i+o)throw n},onObjectEnd:function(e,o){if(t<=e)throw n;i=void 0;r.pop()},onArrayBegin:function(e,o){if(t<=e)throw n;i=void 0;r.push(0)},onArrayEnd:function(e,o){if(t<=e)throw n;i=void 0;r.pop()},onLiteralValue:function(e,r,i){if(t<r)throw n;s(e,r,i,Bi(e));if(t<=r+i)throw n},onSeparator:function(e,o,s){if(t<=o)throw n;if(":"===e&&i&&"property"===i.type){i.colonOffset=o;a=!1;i=void 0}else if(","===e){var u=r[r.length-1];if("number"==typeof u)r[r.length-1]=u+1;else{a=!0;r[r.length-1]=""}i=void 0}}})}catch(e){if(e!==n)throw e}return{path:r,previousNode:i,isAtPropertyKey:a,matches:function(e){var t=0;for(var n=0;t<e.length&&n<r.length;n++)if(e[t]===r[n]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}}function Mi(e,t,r){void 0===t&&(t=[]);void 0===r&&(r=Ii.DEFAULT);var n=null;var i=[];var o=[];function a(e){Array.isArray(i)?i.push(e):n&&(i[n]=e)}var s;qi(e,{onObjectBegin:function(){var e={};a(e);o.push(i);i=e;n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var e=[];a(e);o.push(i);i=e;n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:a,onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r);return i[0]}function Fi(e,t,r){void 0===t&&(t=[]);void 0===r&&(r=Ii.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){if("property"===n.type){n.length=e-n.offset;n=n.parent}}function o(e){n.children.push(e);return e}var a;qi(e,{onObjectBegin:function(e){n=o({type:"object",offset:e,length:-1,parent:n,children:[]})},onObjectProperty:function(e,t,r){(n=o({type:"property",offset:t,length:-1,parent:n,children:[]})).children.push({type:"string",value:e,offset:t,length:r,parent:n})},onObjectEnd:function(e,t){n.length=e+t-n.offset;n=n.parent;i(e+t)},onArrayBegin:function(e,t){n=o({type:"array",offset:e,length:-1,parent:n,children:[]})},onArrayEnd:function(e,t){n.length=e+t-n.offset;n=n.parent;i(e+t)},onLiteralValue:function(e,t,r){o({type:Bi(e),offset:t,length:r,parent:n,value:e});i(t+r)},onSeparator:function(e,t,r){"property"===n.type&&(":"===e?n.colonOffset=t:","===e&&i(t))},onError:function(e,r,n){t.push({error:e,offset:r,length:n})}},r);var s=n.children[0];s&&delete s.parent;return s}function Ri(e,t){if(!e)return;var r=e;for(var n=0,i=t;n<i.length;n++){var o=i[n];if("string"==typeof o){if("object"!==r.type||!Array.isArray(r.children))return;var a=!1;for(var s=0,u=r.children;s<u.length;s++){var c=u[s];if(Array.isArray(c.children)&&c.children[0].value===o){r=c.children[1];a=!0;break}}if(!a)return}else{var f=o;if("array"!==r.type||f<0||!Array.isArray(r.children)||f>=r.children.length)return;r=r.children[f]}}return r}function ji(e){if(!e.parent||!e.parent.children)return[];var t=ji(e.parent);if("property"===e.parent.type){var r=e.parent.children[0].value;t.push(r)}else if("array"===e.parent.type){var n=e.parent.children.indexOf(e);-1!==n&&t.push(n)}return t}function Di(e){switch(e.type){case"array":return e.children.map(Di);case"object":var t=Object.create(null);for(var r=0,n=e.children;r<n.length;r++){var i=n[r];var o=i.children[1];o&&(t[i.children[0].value]=Di(o))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function Vi(e,t,r){void 0===r&&(r=!1);return t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}function Ui(e,t,r){void 0===r&&(r=!1);if(Vi(e,t,r)){var n=e.children;if(Array.isArray(n))for(var i=0;i<n.length&&n[i].offset<=t;i++){var o=Ui(n[i],t,r);if(o)return o}return e}return}function qi(e,t,r){void 0===r&&(r=Ii.DEFAULT);var n=Ei(e,!1);function i(e){return e?function(){return e(n.getTokenOffset(),n.getTokenLength())}:function(){return!0}}function o(e){return e?function(t){return e(t,n.getTokenOffset(),n.getTokenLength())}:function(){return!0}}var a=i(t.onObjectBegin),s=o(t.onObjectProperty),u=i(t.onObjectEnd),c=i(t.onArrayBegin),f=i(t.onArrayEnd),l=o(t.onLiteralValue),h=o(t.onSeparator),d=i(t.onComment),p=o(t.onError);var m=r&&r.disallowComments;var v=r&&r.allowTrailingComma;function g(){for(;;){var e=n.scan();switch(n.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:m||y(11);break;case 2:y(12);break;case 6:y(16)}switch(e){case 12:case 13:m?y(10):d();break;case 16:y(1);break;case 15:case 14:break;default:return e}}}function y(e,t,r){void 0===t&&(t=[]);void 0===r&&(r=[]);p(e);if(t.length+r.length>0){var i=n.getToken();for(;17!==i;){if(-1!==t.indexOf(i)){g();break}if(-1!==r.indexOf(i))break;i=g()}}}function b(e){var t=n.getTokenValue();e?l(t):s(t);g();return!0}function _(){switch(n.getToken()){case 11:var e=0;try{if("number"!=typeof(e=JSON.parse(n.getTokenValue()))){y(2);e=0}}catch(e){y(2)}l(e);break;case 7:l(null);break;case 8:l(!0);break;case 9:l(!1);break;default:return!1}g();return!0}function C(){if(10!==n.getToken()){y(3,[],[2,5]);return!1}b(!1);if(6===n.getToken()){h(":");g();A()||y(4,[],[2,5])}else y(5,[],[2,5]);return!0}function S(){a();g();var e=!1;for(;2!==n.getToken()&&17!==n.getToken();){if(5===n.getToken()){e||y(4,[],[]);h(",");g();if(2===n.getToken()&&v)break}else e&&y(6,[],[]);C()||y(4,[],[2,5]);e=!0}u();2!==n.getToken()?y(7,[2],[]):g();return!0}function E(){c();g();var e=!1;for(;4!==n.getToken()&&17!==n.getToken();){if(5===n.getToken()){e||y(4,[],[]);h(",");g();if(4===n.getToken()&&v)break}else e&&y(6,[],[]);A()||y(4,[],[4,5]);e=!0}f();4!==n.getToken()?y(8,[4],[]):g();return!0}function A(){switch(n.getToken()){case 3:return E();case 1:return S();case 10:return b(!0);default:return _()}}g();if(17===n.getToken())return!0;if(!A()){y(4,[],[]);return!1}17!==n.getToken()&&y(9,[],[]);return!0}function Ki(e,t){var r=Ei(e),n=[],i,o=0,a;do{a=r.getPosition();switch(i=r.scan()){case 12:case 13:case 17:o!==a&&n.push(e.substring(o,a));void 0!==t&&n.push(r.getTokenValue().replace(/[^\r\n]/g,t));o=r.getPosition()}}while(17!==i);return n.join("")}function Bi(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}function Wi(e,t,r){return $i(e,t,void 0,r)}function $i(e,t,r,n,i){var o;var a=t.slice();var s;var u=Fi(e,[]);var c=void 0;var f=void 0;for(;a.length>0;){f=a.pop();if(void 0!==(c=Ri(u,a))||void 0===r)break;r="string"==typeof f?((o={})[f]=r,o):[r]}if(c){if("object"===c.type&&"string"==typeof f&&Array.isArray(c.children)){var l=Ri(c,[f]);if(void 0!==l){if(void 0===r){if(!l.parent)throw new Error("Malformed AST");var h=c.children.indexOf(l.parent);var d=void 0;var p=l.parent.offset+l.parent.length;if(h>0){var m;d=(m=c.children[h-1]).offset+m.length}else{d=c.offset+1;if(c.children.length>1){var v;p=c.children[1].offset}}return Yi(e,{offset:d,length:p-d,content:""},n)}return Yi(e,{offset:l.offset,length:l.length,content:JSON.stringify(r)},n)}if(void 0===r)return[];var g=JSON.stringify(f)+": "+JSON.stringify(r);var y=i?i(c.children.map(function(e){return e.children[0].value})):c.children.length;var b=void 0;if(y>0){var m;b={offset:(m=c.children[y-1]).offset+m.length,length:0,content:","+g}}else b=0===c.children.length?{offset:c.offset+1,length:0,content:g}:{offset:c.offset+1,length:0,content:g+","};return Yi(e,b,n)}if("array"===c.type&&"number"==typeof f&&Array.isArray(c.children)){var _;if(-1===f){var g=""+JSON.stringify(r);var b=void 0;if(0===c.children.length)b={offset:c.offset+1,length:0,content:g};else{var m;b={offset:(m=c.children[c.children.length-1]).offset+m.length,length:0,content:","+g}}return Yi(e,b,n)}if(void 0===r&&c.children.length>=0){var C=f;var S=c.children[C];var b=void 0;if(1===c.children.length)b={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===C){var m;var E=(m=c.children[C-1]).offset+m.length;var A;b={offset:E,length:c.offset+c.length-2-E,content:""}}else b={offset:S.offset,length:c.children[C+1].offset-S.offset,content:""};return Yi(e,b,n)}throw new Error("Array modification not supported yet")}throw new Error("Can not add "+("number"!=typeof f?"index":"property")+" to parent of type "+c.type)}if(void 0===r)throw new Error("Can not delete in empty document");return Yi(e,{offset:u?u.offset:0,length:u?u.length:0,content:JSON.stringify(r)},n)}function Yi(e,t,r){var n=Hi(e,t);var i=t.offset;var o=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!Oi(n,i-1);)i--;for(;o<n.length&&!Oi(n,o);)o++}var a=wi(n,{offset:i,length:o-i},r);for(var s=a.length-1;s>=0;s--){var u=a[s];n=Hi(n,u);i=Math.min(i,u.offset);o=Math.max(o,u.offset+u.length);o+=u.content.length-u.length}var c;return[{offset:i,length:e.length-(n.length-o)-i,content:n.substring(i,o)}]}function Hi(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}function zi(e,t){return-1!=="\r\n \t".indexOf(e.charAt(t))}var Gi=Ei;var Ji=Pi;var Qi=Mi;var Xi=Fi;var Zi=Ri;var eo=Ui;var to=ji;var ro=Di;var no=qi;var io=Ki;function oo(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function ao(e,t,r){return wi(e,t,r)}function so(e,t,r,n){return $i(e,t,r,n.formattingOptions,n.getInsertionIndex)}function uo(e,t){for(var r=t.length-1;r>=0;r--)e=Hi(e,t[r]);return e}function co(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var r,n;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(!co(e[r],t[r]))return!1}else{var i=[];for(n in e)i.push(n);i.sort();var o=[];for(n in t)o.push(n);o.sort();if(!co(i,o))return!1;for(r=0;r<i.length;r++)if(!co(e[i[r]],t[i[r]]))return!1}return!0}function fo(e){return"number"==typeof e}function lo(e){return void 0!==e}function ho(e){return"boolean"==typeof e}function po(e){return"string"==typeof e}var mo;!function(e){e["Empty"]="";e["Statement"]="statement";e["Declaration"]="declaration"}(mo||(mo={}));var vo;!function(e){e[e["Undefined"]=0]="Undefined";e[e["EnumValueMismatch"]=1]="EnumValueMismatch";e[e["UnexpectedEndOfComment"]=257]="UnexpectedEndOfComment";e[e["UnexpectedEndOfString"]=258]="UnexpectedEndOfString";e[e["UnexpectedEndOfNumber"]=259]="UnexpectedEndOfNumber";e[e["InvalidUnicode"]=260]="InvalidUnicode";e[e["InvalidEscapeCharacter"]=261]="InvalidEscapeCharacter";e[e["InvalidCharacter"]=262]="InvalidCharacter";e[e["PropertyExpected"]=513]="PropertyExpected";e[e["CommaExpected"]=514]="CommaExpected";e[e["ColonExpected"]=515]="ColonExpected";e[e["ValueExpected"]=516]="ValueExpected";e[e["CommaOrCloseBacketExpected"]=517]="CommaOrCloseBacketExpected";e[e["CommaOrCloseBraceExpected"]=518]="CommaOrCloseBraceExpected";e[e["TrailingComma"]=519]="TrailingComma";e[e["DuplicateKey"]=520]="DuplicateKey";e[e["CommentNotPermitted"]=521]="CommentNotPermitted";e[e["SchemaResolveError"]=768]="SchemaResolveError"}(vo||(vo={}));var go;(yo=go||(go={})).LATEST={textDocument:{completion:{completionItem:{documentationFormat:[Qn.Markdown,Qn.PlainText]}}}};var yo;function bo(e,t){var r;return r=0===t.length?e:e.replace(/\{(\d+)\}/g,function(e,r){var n=r[0];return void 0!==t[n]?t[n]:e})}function _o(e,t){var r=[];for(var n=2;n<arguments.length;n++)r[n-2]=arguments[n];return bo(t,r)}function Co(e){return _o}function So(e){return Co}var Eo=r("fR4H");var Ao=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();var xo=Co();var No=/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/;var wo=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var Lo=function(){function e(e,t,r){this.offset=t;this.length=r;this.parent=e}Object.defineProperty(e.prototype,"children",{get:function(){return[]},enumerable:!0,configurable:!0});e.prototype.toString=function(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")};return e}();var To=function(e){Ao(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="null";n.value=null;return n}return t}(Lo);var ko=function(e){Ao(t,e);function t(t,r,n){var i=e.call(this,t,n)||this;i.type="boolean";i.value=r;return i}return t}(Lo);var Oo=function(e){Ao(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="array";n.items=[];return n}Object.defineProperty(t.prototype,"children",{get:function(){return this.items},enumerable:!0,configurable:!0});return t}(Lo);var Io=function(e){Ao(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="number";n.isInteger=!0;n.value=Number.NaN;return n}return t}(Lo);var Po=function(e){Ao(t,e);function t(t,r,n){var i=e.call(this,t,r,n)||this;i.type="string";i.value="";return i}return t}(Lo);var Mo=function(e){Ao(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="property";n.colonOffset=-1;return n}Object.defineProperty(t.prototype,"children",{get:function(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]},enumerable:!0,configurable:!0});return t}(Lo);var Fo=function(e){Ao(t,e);function t(t,r){var n=e.call(this,t,r)||this;n.type="object";n.properties=[];return n}Object.defineProperty(t.prototype,"children",{get:function(){return this.properties},enumerable:!0,configurable:!0});return t}(Lo);function Ro(e){if(ho(e))return e?{}:{not:{}};return e}var jo;!function(e){e[e["Key"]=0]="Key";e[e["Enum"]=1]="Enum"}(jo||(jo={}));var Do=function(){function e(e,t){void 0===e&&(e=-1);void 0===t&&(t=null);this.focusOffset=e;this.exclude=t;this.schemas=[]}e.prototype.add=function(e){this.schemas.push(e)};e.prototype.merge=function(e){var t;(t=this.schemas).push.apply(t,e.schemas)};e.prototype.include=function(e){return(-1===this.focusOffset||Wo(e,this.focusOffset))&&e!==this.exclude};e.prototype.newSub=function(){return new e(-1,this.exclude)};return e}();var Vo=function(){function e(){}Object.defineProperty(e.prototype,"schemas",{get:function(){return[]},enumerable:!0,configurable:!0});e.prototype.add=function(e){};e.prototype.merge=function(e){};e.prototype.include=function(e){return!0};e.prototype.newSub=function(){return this};e.instance=new e;return e}();var Uo=function(){function e(){this.problems=[];this.propertiesMatches=0;this.propertiesValueMatches=0;this.primaryValueMatches=0;this.enumValueMatch=!1;this.enumValues=null}e.prototype.hasProblems=function(){return!!this.problems.length};e.prototype.mergeAll=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.merge(n)}};e.prototype.merge=function(e){this.problems=this.problems.concat(e.problems)};e.prototype.mergeEnumValues=function(e){if(!this.enumValueMatch&&!e.enumValueMatch&&this.enumValues&&e.enumValues){this.enumValues=this.enumValues.concat(e.enumValues);for(var t=0,r=this.problems;t<r.length;t++){var n=r[t];n.code===vo.EnumValueMismatch&&(n.message=xo("enumWarning","Value is not accepted. Valid values: {0}.",this.enumValues.map(function(e){return JSON.stringify(e)}).join(", ")))}}};e.prototype.mergePropertyMatch=function(e){this.merge(e);this.propertiesMatches++;(e.enumValueMatch||!e.hasProblems()&&e.propertiesMatches)&&this.propertiesValueMatches++;e.enumValueMatch&&e.enumValues&&1===e.enumValues.length&&this.primaryValueMatches++};e.prototype.compare=function(e){var t=this.hasProblems();if(t!==e.hasProblems())return t?-1:1;if(this.enumValueMatch!==e.enumValueMatch)return e.enumValueMatch?-1:1;if(this.primaryValueMatches!==e.primaryValueMatches)return this.primaryValueMatches-e.primaryValueMatches;if(this.propertiesValueMatches!==e.propertiesValueMatches)return this.propertiesValueMatches-e.propertiesValueMatches;return this.propertiesMatches-e.propertiesMatches};return e}();function qo(e,t){void 0===t&&(t=[]);return new $o(e,t,[])}function Ko(e){return ro(e)}function Bo(e){return to(e)}function Wo(e,t,r){void 0===r&&(r=!1);return t>=e.offset&&t<e.offset+e.length||r&&t===e.offset+e.length}var $o=function(){function e(e,t,r){void 0===t&&(t=[]);void 0===r&&(r=[]);this.root=e;this.syntaxErrors=t;this.comments=r}e.prototype.getNodeFromOffset=function(e,t){void 0===t&&(t=!1);if(this.root)return eo(this.root,e,t);return};e.prototype.visit=function(e){if(this.root){var t=function(r){var n=e(r);var i=r.children;if(Array.isArray(i))for(var o=0;o<i.length&&n;o++)n=t(i[o]);return n};t(this.root)}};e.prototype.validate=function(e,t){if(this.root&&t){var r=new Uo;Yo(this.root,t,r,Vo.instance);return r.problems.map(function(t){var r=Ln.create(e.positionAt(t.location.offset),e.positionAt(t.location.offset+t.location.length));return Dn.create(r,t.message,t.severity,t.code)})}return null};e.prototype.getMatchingSchemas=function(e,t,r){void 0===t&&(t=-1);void 0===r&&(r=null);var n=new Do(t,r);this.root&&e&&Yo(this.root,e,new Uo,n);return n.schemas};return e}();function Yo(e,t,r,n){if(!e||!n.include(e))return;switch(e.type){case"object":u(e,t,r,n);break;case"array":s(e,t,r,n);break;case"string":a(e,t,r,n);break;case"number":o(e,t,r,n);break;case"property":return Yo(e.valueNode,t,r,n)}i();n.add({node:e,schema:t});function i(){function i(t){return e.type===t||"integer"===t&&"number"===e.type&&e.isInteger}Array.isArray(t.type)?t.type.some(i)||r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:t.errorMessage||xo("typeArrayMismatchWarning","Incorrect type. Expected one of {0}.",t.type.join(", "))}):t.type&&(i(t.type)||r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:t.errorMessage||xo("typeMismatchWarning",'Incorrect type. Expected "{0}".',t.type)}));if(Array.isArray(t.allOf))for(var o=0,a=t.allOf;o<a.length;o++){var s=a[o];Yo(e,Ro(s),r,n)}var u=Ro(t.not);if(u){var c=new Uo;var f=n.newSub();Yo(e,u,c,f);c.hasProblems()||r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("notSchemaWarning","Matches a schema that is not allowed.")});for(var l=0,h=f.schemas;l<h.length;l++){var d=h[l];d.inverted=!d.inverted;n.add(d)}}var p=function(t,i){var o=[];var a=null;for(var s=0,u=t;s<u.length;s++){var c;var f=Ro(u[s]);var l=new Uo;var h=n.newSub();Yo(e,f,l,h);l.hasProblems()||o.push(f);if(a)if(i||l.hasProblems()||a.validationResult.hasProblems()){var d=l.compare(a.validationResult);if(d>0)a={schema:f,validationResult:l,matchingSchemas:h};else if(0===d){a.matchingSchemas.merge(h);a.validationResult.mergeEnumValues(l)}}else{a.matchingSchemas.merge(h);a.validationResult.propertiesMatches+=l.propertiesMatches;a.validationResult.propertiesValueMatches+=l.propertiesValueMatches}else a={schema:f,validationResult:l,matchingSchemas:h}}o.length>1&&i&&r.problems.push({location:{offset:e.offset,length:1},severity:jn.Warning,message:xo("oneOfWarning","Matches multiple schemas when only one must validate.")});if(null!==a){r.merge(a.validationResult);r.propertiesMatches+=a.validationResult.propertiesMatches;r.propertiesValueMatches+=a.validationResult.propertiesValueMatches;n.merge(a.matchingSchemas)}return o.length};Array.isArray(t.anyOf)&&p(t.anyOf,!1);Array.isArray(t.oneOf)&&p(t.oneOf,!0);var m=function(t){var i=new Uo;var o=n.newSub();Yo(e,Ro(t),i,o);r.merge(i);r.propertiesMatches+=i.propertiesMatches;r.propertiesValueMatches+=i.propertiesValueMatches;n.merge(o)};var v=function(t,r,i){var o=Ro(t);var a=new Uo;var s=n.newSub();Yo(e,o,a,s);n.merge(s);a.hasProblems()?i&&m(i):r&&m(r)};var g=Ro(t.if);g&&v(g,Ro(t.then),Ro(t.else));if(Array.isArray(t.enum)){var y=Ko(e);var b=!1;for(var _=0,C=t.enum;_<C.length;_++){var S;if(co(y,C[_])){b=!0;break}}r.enumValues=t.enum;r.enumValueMatch=b;b||r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,code:vo.EnumValueMismatch,message:t.errorMessage||xo("enumWarning","Value is not accepted. Valid values: {0}.",t.enum.map(function(e){return JSON.stringify(e)}).join(", "))})}if(lo(t.const)){var y;if(co(y=Ko(e),t.const))r.enumValueMatch=!0;else{r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,code:vo.EnumValueMismatch,message:t.errorMessage||xo("constWarning","Value must be {0}.",JSON.stringify(t.const))});r.enumValueMatch=!1}r.enumValues=[t.const]}t.deprecationMessage&&e.parent&&r.problems.push({location:{offset:e.parent.offset,length:e.parent.length},severity:jn.Warning,message:t.deprecationMessage})}function o(e,t,r,n){var i=e.value;fo(t.multipleOf)&&i%t.multipleOf!=0&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("multipleOfWarning","Value is not divisible by {0}.",t.multipleOf)});function o(e,t){if(fo(t))return t;if(ho(t)&&t)return e;return}function a(e,t){if(!ho(t)||!t)return e;return}var s=o(t.minimum,t.exclusiveMinimum);fo(s)&&i<=s&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("exclusiveMinimumWarning","Value is below the exclusive minimum of {0}.",s)});var u=o(t.maximum,t.exclusiveMaximum);fo(u)&&i>=u&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("exclusiveMaximumWarning","Value is above the exclusive maximum of {0}.",u)});var c=a(t.minimum,t.exclusiveMinimum);fo(c)&&i<c&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("minimumWarning","Value is below the minimum of {0}.",c)});var f=a(t.maximum,t.exclusiveMaximum);fo(f)&&i>f&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("maximumWarning","Value is above the maximum of {0}.",f)})}function a(e,t,r,n){fo(t.minLength)&&e.value.length<t.minLength&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("minLengthWarning","String is shorter than the minimum length of {0}.",t.minLength)});fo(t.maxLength)&&e.value.length>t.maxLength&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("maxLengthWarning","String is longer than the maximum length of {0}.",t.maxLength)});if(po(t.pattern)){var i;new RegExp(t.pattern).test(e.value)||r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:t.patternErrorMessage||t.errorMessage||xo("patternWarning",'String does not match the pattern of "{0}".',t.pattern)})}if(t.format)switch(t.format){case"uri":case"uri-reference":var o=void 0;if(e.value)try{var a;Eo["a"].parse(e.value).scheme||"uri"!==t.format||(o=xo("uriSchemeMissing","URI with a scheme is expected."))}catch(e){o=e.message}else o=xo("uriEmpty","URI expected.");o&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:t.patternErrorMessage||t.errorMessage||xo("uriFormatWarning","String is not a URI: {0}",o)});break;case"email":e.value.match(wo)||r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:t.patternErrorMessage||t.errorMessage||xo("emailFormatWarning","String is not an e-mail address.")});break;case"color-hex":e.value.match(No)||r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:t.patternErrorMessage||t.errorMessage||xo("colorHexFormatWarning","Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA.")})}}function s(e,t,r,n){if(Array.isArray(t.items)){var i=t.items;for(var o=0;o<i.length;o++){var a;var s=Ro(i[o]);var u=new Uo;var c;if(c=e.items[o]){Yo(c,s,u,n);r.mergePropertyMatch(u)}else e.items.length>=i.length&&r.propertiesValueMatches++}if(e.items.length>i.length)if("object"==typeof t.additionalItems)for(var f=i.length;f<e.items.length;f++){var u=new Uo;Yo(e.items[f],t.additionalItems,u,n);r.mergePropertyMatch(u)}else!1===t.additionalItems&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("additionalItemsWarning","Array has too many items according to schema. Expected {0} or fewer.",i.length)})}else{var l=Ro(t.items);if(l)for(var h=0,d=e.items;h<d.length;h++){var c;var u;Yo(c=d[h],l,u=new Uo,n);r.mergePropertyMatch(u)}}var p=Ro(t.contains);if(p){var m;e.items.some(function(e){var t=new Uo;Yo(e,p,t,Vo.instance);return!t.hasProblems()})||r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:t.errorMessage||xo("requiredItemMissingWarning","Array does not contain required item.")})}fo(t.minItems)&&e.items.length<t.minItems&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("minItemsWarning","Array has too few items. Expected {0} or more.",t.minItems)});fo(t.maxItems)&&e.items.length>t.maxItems&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("maxItemsWarning","Array has too many items. Expected {0} or fewer.",t.maxItems)});if(!0===t.uniqueItems){var v=Ko(e);var g;v.some(function(e,t){return t!==v.lastIndexOf(e)})&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("uniqueItemsWarning","Array has duplicate items.")})}}function u(e,t,r,n){var i=Object.create(null);var o=[];for(var a=0,s=e.properties;a<s.length;a++){var u;var c;i[c=(u=s[a]).keyNode.value]=u.valueNode;o.push(c)}if(Array.isArray(t.required))for(var f=0,l=t.required;f<l.length;f++){var h;if(!i[h=l[f]]){var d=e.parent&&"property"===e.parent.type&&e.parent.keyNode;var p=d?{offset:d.offset,length:d.length}:{offset:e.offset,length:1};r.problems.push({location:p,severity:jn.Warning,message:xo("MissingRequiredPropWarning",'Missing property "{0}".',h)})}}var m=function(e){var t=o.indexOf(e);for(;t>=0;){o.splice(t,1);t=o.indexOf(e)}};if(t.properties)for(var v=0,g=Object.keys(t.properties);v<g.length;v++){var h;m(h=g[v]);var y=t.properties[h];var b;if(b=i[h])if(ho(y))if(y){r.propertiesMatches++;r.propertiesValueMatches++}else{var u=b.parent;r.problems.push({location:{offset:u.keyNode.offset,length:u.keyNode.length},severity:jn.Warning,message:t.errorMessage||xo("DisallowedExtraPropWarning","Property {0} is not allowed.",h)})}else{var _;Yo(b,y,_=new Uo,n);r.mergePropertyMatch(_)}}if(t.patternProperties)for(var C=0,S=Object.keys(t.patternProperties);C<S.length;C++){var E=S[C];var A=new RegExp(E);for(var x=0,N=o.slice(0);x<N.length;x++){var h=N[x];if(A.test(h)){m(h);var b;if(b=i[h]){var y;if(ho(y=t.patternProperties[E]))if(y){r.propertiesMatches++;r.propertiesValueMatches++}else{var u=b.parent;r.problems.push({location:{offset:u.keyNode.offset,length:u.keyNode.length},severity:jn.Warning,message:t.errorMessage||xo("DisallowedExtraPropWarning","Property {0} is not allowed.",h)})}else{var _;Yo(b,y,_=new Uo,n);r.mergePropertyMatch(_)}}}}}if("object"==typeof t.additionalProperties)for(var w=0,L=o;w<L.length;w++){var h;var b;if(b=i[h=L[w]]){var _=new Uo;Yo(b,t.additionalProperties,_,n);r.mergePropertyMatch(_)}}else if(!1===t.additionalProperties&&o.length>0)for(var T=0,k=o;T<k.length;T++){var h;var b;if(b=i[h=k[T]]){var u=b.parent;r.problems.push({location:{offset:u.keyNode.offset,length:u.keyNode.length},severity:jn.Warning,message:t.errorMessage||xo("DisallowedExtraPropWarning","Property {0} is not allowed.",h)})}}fo(t.maxProperties)&&e.properties.length>t.maxProperties&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("MaxPropWarning","Object has more properties than limit of {0}.",t.maxProperties)});fo(t.minProperties)&&e.properties.length<t.minProperties&&r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("MinPropWarning","Object has fewer properties than the required number of {0}",t.minProperties)});if(t.dependencies)for(var O=0,I=Object.keys(t.dependencies);O<I.length;O++){var c;var P;if(i[c=I[O]]){var M=t.dependencies[c];if(Array.isArray(M))for(var F=0,R=M;F<R.length;F++){var j=R[F];i[j]?r.propertiesValueMatches++:r.problems.push({location:{offset:e.offset,length:e.length},severity:jn.Warning,message:xo("RequiredDependentPropWarning","Object is missing property {0} required by property {1}.",j,c)})}else{var y;if(y=Ro(M)){var _;Yo(e,y,_=new Uo,n);r.mergePropertyMatch(_)}}}}var D=Ro(t.propertyNames);if(D)for(var V=0,U=e.properties;V<U.length;V++){var q;var c;(c=U[V].keyNode)&&Yo(c,D,r,Vo.instance)}}}function Ho(e,t){var r=[];var n=-1;var i=e.getText();var o=Gi(i,!1);var a=t&&t.collectComments?[]:void 0;function s(){for(;;){var t=o.scan();l();switch(t){case 12:case 13:Array.isArray(a)&&a.push(Ln.create(e.positionAt(o.getTokenOffset()),e.positionAt(o.getTokenOffset()+o.getTokenLength())));break;case 15:case 14:break;default:return t}}}function u(e){if(o.getToken()===e){s();return!0}return!1}function c(t,i,o,a,s){void 0===s&&(s=jn.Error);if(0===r.length||o!==n){var u=Ln.create(e.positionAt(o),e.positionAt(a));r.push(Dn.create(u,t,s,i,e.languageId));n=o}}function f(e,t,r,n,a){void 0===r&&(r=null);void 0===n&&(n=[]);void 0===a&&(a=[]);var u=o.getTokenOffset();var f=o.getTokenOffset()+o.getTokenLength();if(u===f&&u>0){u--;for(;u>0&&/\s/.test(i.charAt(u));)u--;f=u+1}c(e,t,u,f);r&&h(r,!1);if(n.length+a.length>0){var l=o.getToken();for(;17!==l;){if(-1!==n.indexOf(l)){s();break}if(-1!==a.indexOf(l))break;l=s()}}return r}function l(){switch(o.getTokenError()){case 4:f(xo("InvalidUnicode","Invalid unicode sequence in string."),vo.InvalidUnicode);return!0;case 5:f(xo("InvalidEscapeCharacter","Invalid escape character in string."),vo.InvalidEscapeCharacter);return!0;case 3:f(xo("UnexpectedEndOfNumber","Unexpected end of number."),vo.UnexpectedEndOfNumber);return!0;case 1:f(xo("UnexpectedEndOfComment","Unexpected end of comment."),vo.UnexpectedEndOfComment);return!0;case 2:f(xo("UnexpectedEndOfString","Unexpected end of string."),vo.UnexpectedEndOfString);return!0;case 6:f(xo("InvalidCharacter","Invalid characters in string. Control characters must be escaped."),vo.InvalidCharacter);return!0}return!1}function h(e,t){e.length=o.getTokenOffset()+o.getTokenLength()-e.offset;t&&s();return e}function d(e){if(3!==o.getToken())return null;var t=new Oo(e,o.getTokenOffset());s();var r=0;var n=!1;for(;4!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){n||f(xo("ValueExpected","Value expected"),vo.ValueExpected);var i=o.getTokenOffset();s();if(4===o.getToken()){n&&c(xo("TrailingComma","Trailing comma"),vo.TrailingComma,i,i+1);continue}}else n&&f(xo("ExpectedComma","Expected comma"),vo.CommaExpected);var a=b(t,r++);a?t.items.push(a):f(xo("PropertyExpected","Value expected"),vo.ValueExpected,null,[],[4,5]);n=!0}if(4!==o.getToken())return f(xo("ExpectedCloseBracket","Expected comma or closing bracket"),vo.CommaOrCloseBacketExpected,t);return h(t,!0)}function p(t,r){var n=new Mo(t,o.getTokenOffset());var i=v(n);if(!i){if(16!==o.getToken())return null;f(xo("DoubleQuotesExpected","Property keys must be doublequoted"),vo.Undefined);var a=new Po(n,o.getTokenOffset(),o.getTokenLength());a.value=o.getTokenValue();i=a;s()}n.keyNode=i;var u=r[i.value];if(u){c(xo("DuplicateKeyWarning","Duplicate object key"),vo.DuplicateKey,n.keyNode.offset,n.keyNode.offset+n.keyNode.length,jn.Warning);"object"==typeof u&&c(xo("DuplicateKeyWarning","Duplicate object key"),vo.DuplicateKey,u.keyNode.offset,u.keyNode.offset+u.keyNode.length,jn.Warning);r[i.value]=!0}else r[i.value]=n;if(6===o.getToken()){n.colonOffset=o.getTokenOffset();s()}else{f(xo("ColonExpected","Colon expected"),vo.ColonExpected);if(10===o.getToken()&&e.positionAt(i.offset+i.length).line<e.positionAt(o.getTokenOffset()).line){n.length=i.length;return n}}var l=b(n,i.value);if(!l)return f(xo("ValueExpected","Value expected"),vo.ValueExpected,n,[],[2,5]);n.valueNode=l;n.length=l.offset+l.length-n.offset;return n}function m(e){if(1!==o.getToken())return null;var t=new Fo(e,o.getTokenOffset());var r=Object.create(null);s();var n=!1;for(;2!==o.getToken()&&17!==o.getToken();){if(5===o.getToken()){n||f(xo("PropertyExpected","Property expected"),vo.PropertyExpected);var i=o.getTokenOffset();s();if(2===o.getToken()){n&&c(xo("TrailingComma","Trailing comma"),vo.TrailingComma,i,i+1);continue}}else n&&f(xo("ExpectedComma","Expected comma"),vo.CommaExpected);var a=p(t,r);a?t.properties.push(a):f(xo("PropertyExpected","Property expected"),vo.PropertyExpected,null,[],[2,5]);n=!0}if(2!==o.getToken())return f(xo("ExpectedCloseBrace","Expected comma or closing brace"),vo.CommaOrCloseBraceExpected,t);return h(t,!0)}function v(e){if(10!==o.getToken())return null;var t=new Po(e,o.getTokenOffset());t.value=o.getTokenValue();return h(t,!0)}function g(e){if(11!==o.getToken())return null;var t=new Io(e,o.getTokenOffset());if(0===o.getTokenError()){var r=o.getTokenValue();try{var n=JSON.parse(r);if(!fo(n))return f(xo("InvalidNumberFormat","Invalid number format."),vo.Undefined,t);t.value=n}catch(e){return f(xo("InvalidNumberFormat","Invalid number format."),vo.Undefined,t)}t.isInteger=-1===r.indexOf(".")}return h(t,!0)}function y(e){var t;switch(o.getToken()){case 7:return h(new To(e,o.getTokenOffset()),!0);case 8:return h(new ko(e,!0,o.getTokenOffset()),!0);case 9:return h(new ko(e,!1,o.getTokenOffset()),!0);default:return null}}function b(e,t){return d(e)||m(e)||v(e)||g(e)||y(e)}var _=null;var C;17!==s()&&((_=b(null,null))?17!==o.getToken()&&f(xo("End of file expected","End of file expected."),vo.Undefined):f(xo("Invalid symbol","Expected a JSON object, array or literal."),vo.Undefined));return new $o(_,r,a)}function zo(e,t,r){if(null!==e&&"object"==typeof e){var n=t+"\t";if(Array.isArray(e)){if(0===e.length)return"[]";var i="[\n";for(var o=0;o<e.length;o++){i+=n+zo(e[o],n,r);o<e.length-1&&(i+=",");i+="\n"}return i+=t+"]"}var a=Object.keys(e);if(0===a.length)return"{}";var i="{\n";for(var o=0;o<a.length;o++){var s=a[o];i+=n+JSON.stringify(s)+": "+zo(e[s],n,r);o<a.length-1&&(i+=",");i+="\n"}return i+=t+"}"}return r(e)}function Go(e,t){if(e.length<t.length)return!1;for(var r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0}function Jo(e,t){var r=e.length-t.length;return r>0?e.lastIndexOf(t)===r:0===r&&e===t}function Qo(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Xo(e,t){var r="";for(;t>0;){1==(1&t)&&(r+=e);e+=e;t>>>=1}return r}var Zo=Co();var ea=function(){function e(e,t,r,n){void 0===t&&(t=[]);void 0===r&&(r=Promise);void 0===n&&(n={});this.schemaService=e;this.contributions=t;this.promiseConstructor=r;this.clientCapabilities=n;this.templateVarIdCounter=0}e.prototype.doResolve=function(e){for(var t=this.contributions.length-1;t>=0;t--)if(this.contributions[t].resolveCompletion){var r=this.contributions[t].resolveCompletion(e);if(r)return r}return this.promiseConstructor.resolve(e)};e.prototype.doComplete=function(e,t,r){var n=this;var i={items:[],isIncomplete:!1};var o=e.offsetAt(t);var a=r.getNodeFromOffset(o,!0);if(this.isInComment(e,a?a.offset:0,o))return Promise.resolve(i);var s=this.getCurrentWord(e,o);var u=null;if(!a||"string"!==a.type&&"number"!==a.type&&"boolean"!==a.type&&"null"!==a.type){var c=o-s.length;c>0&&'"'===e.getText()[c-1]&&c--;u=Ln.create(e.positionAt(c),t)}else u=Ln.create(e.positionAt(a.offset),e.positionAt(a.offset+a.length));var f={};var l={add:function(e){var t=f[e.label];if(t)t.documentation||(t.documentation=e.documentation);else{f[e.label]=e;u&&(e.textEdit=Un.replace(u,e.insertText));i.items.push(e)}},setAsIncomplete:function(){i.isIncomplete=!0},error:function(e){console.error(e)},log:function(e){console.log(e)},getNumberOfProposals:function(){return i.items.length}};return this.schemaService.getSchemaForResource(e.uri,r).then(function(t){var c=[];var h=!0;var d="";var p=null;if(a&&"string"===a.type){var m=a.parent;if(m&&"property"===m.type&&m.keyNode===a){h=!m.valueNode;p=m;d=e.getText().substr(a.offset+1,a.length-2);m&&(a=m.parent)}}if(a&&"object"===a.type){if(a.offset===o)return i;var v;a.properties.forEach(function(e){p&&p===e||(f[e.keyNode.value]=ti.create("__"))});var g="";h&&(g=n.evaluateSeparatorAfter(e,e.offsetAt(u.end)));t?n.getPropertyCompletions(t,r,a,h,g,l):n.getSchemaLessPropertyCompletions(r,a,d,l);var y=Bo(a);n.contributions.forEach(function(t){var r=t.collectPropertyCompletions(e.uri,y,s,h,""===g,l);r&&c.push(r)});if(!t&&s.length>0&&'"'!==e.getText().charAt(o-s.length-1)){l.add({kind:Zn.Property,label:n.getLabelForValue(s),insertText:n.getInsertTextForProperty(s,null,!1,g),insertTextFormat:ei.Snippet,documentation:""});l.setAsIncomplete()}}var b={};t?n.getValueCompletions(t,r,a,o,e,l,b):n.getSchemaLessValueCompletions(r,a,o,e,l);n.contributions.length>0&&n.getContributedValueCompletions(r,a,o,e,l,c);return n.promiseConstructor.all(c).then(function(){if(0===l.getNumberOfProposals()){var t=o;!a||"string"!==a.type&&"number"!==a.type&&"boolean"!==a.type&&"null"!==a.type||(t=a.offset+a.length);var r=n.evaluateSeparatorAfter(e,t);n.addFillerValueCompletions(b,r,l)}return i})})};e.prototype.getPropertyCompletions=function(e,t,r,n,i,o){var a=this;var s;t.getMatchingSchemas(e.schema,r.offset).forEach(function(e){if(e.node===r&&!e.inverted){var t=e.schema.properties;t&&Object.keys(t).forEach(function(e){var r=t[e];if("object"==typeof r&&!r.deprecationMessage&&!r.doNotSuggest){var s={kind:Zn.Property,label:a.sanitizeLabel(e),insertText:a.getInsertTextForProperty(e,r,n,i),insertTextFormat:ei.Snippet,filterText:a.getFilterTextForValue(e),documentation:a.fromMarkup(r.markdownDescription)||r.description||""};Jo(s.insertText,"$1"+i)&&(s.command={title:"Suggest",command:"editor.action.triggerSuggest"});o.add(s)}})}})};e.prototype.getSchemaLessPropertyCompletions=function(e,t,r,n){var i=this;var o=function(e){e.properties.forEach(function(e){var t=e.keyNode.value;n.add({kind:Zn.Property,label:i.sanitizeLabel(t),insertText:i.getInsertTextForValue(t,""),insertTextFormat:ei.Snippet,filterText:i.getFilterTextForValue(t),documentation:""})})};if(t.parent)if("property"===t.parent.type){var a=t.parent.keyNode.value;e.visit(function(e){"property"===e.type&&e!==t.parent&&e.keyNode.value===a&&e.valueNode&&"object"===e.valueNode.type&&o(e.valueNode);return!0})}else"array"===t.parent.type&&t.parent.items.forEach(function(e){"object"===e.type&&e!==t&&o(e)});else"object"===t.type&&n.add({kind:Zn.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",null,!0,""),insertTextFormat:ei.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})};e.prototype.getSchemaLessValueCompletions=function(e,t,r,n,i){var o=this;var a=r;if(t&&("string"===t.type||"number"===t.type||"boolean"===t.type||"null"===t.type)){a=t.offset+t.length;t=t.parent}if(!t){i.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:ei.Snippet,documentation:""});i.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:ei.Snippet,documentation:""});return}var s=this.evaluateSeparatorAfter(n,a);var u=function(e){Wo(e.parent,r,!0)||i.add({kind:o.getSuggestionKind(e.type),label:o.getLabelTextForMatchingNode(e,n),insertText:o.getInsertTextForMatchingNode(e,n,s),insertTextFormat:ei.Snippet,documentation:""});"boolean"===e.type&&o.addBooleanValueCompletion(!e.value,s,i)};if("property"===t.type&&r>t.colonOffset){var c=t.valueNode;if(c&&(r>c.offset+c.length||"object"===c.type||"array"===c.type))return;var f=t.keyNode.value;e.visit(function(e){"property"===e.type&&e.keyNode.value===f&&e.valueNode&&u(e.valueNode);return!0});"$schema"===f&&t.parent&&!t.parent.parent&&this.addDollarSchemaCompletions(s,i)}if("array"===t.type)if(t.parent&&"property"===t.parent.type){var l=t.parent.keyNode.value;e.visit(function(e){"property"===e.type&&e.keyNode.value===l&&e.valueNode&&"array"===e.valueNode.type&&e.valueNode.items.forEach(u);return!0})}else t.items.forEach(u)};e.prototype.getValueCompletions=function(e,t,r,n,i,o,a){var s=this;var u=n;var c=null;var f=null;if(r&&("string"===r.type||"number"===r.type||"boolean"===r.type||"null"===r.type)){u=r.offset+r.length;f=r;r=r.parent}if(!r){this.addSchemaValueCompletions(e.schema,"",o,a);return}if("property"===r.type&&n>r.colonOffset){var l=r.valueNode;if(l&&n>l.offset+l.length)return;c=r.keyNode.value;r=r.parent}if(r&&(null!==c||"array"===r.type)){var h=this.evaluateSeparatorAfter(i,u);var d;t.getMatchingSchemas(e.schema,r.offset,f).forEach(function(e){if(e.node===r&&!e.inverted&&e.schema){if("array"===r.type&&e.schema.items)if(Array.isArray(e.schema.items)){var t=s.findItemAtOffset(r,i,n);t<e.schema.items.length&&s.addSchemaValueCompletions(e.schema.items[t],h,o,a)}else s.addSchemaValueCompletions(e.schema.items,h,o,a);if(e.schema.properties){var u=e.schema.properties[c];u&&s.addSchemaValueCompletions(u,h,o,a)}}});"$schema"!==c||r.parent||this.addDollarSchemaCompletions(h,o);if(a["boolean"]){this.addBooleanValueCompletion(!0,h,o);this.addBooleanValueCompletion(!1,h,o)}a["null"]&&this.addNullValueCompletion(h,o)}};e.prototype.getContributedValueCompletions=function(e,t,r,n,i,o){if(t){"string"!==t.type&&"number"!==t.type&&"boolean"!==t.type&&"null"!==t.type||(t=t.parent);if("property"===t.type&&r>t.colonOffset){var a=t.keyNode.value;var s=t.valueNode;if(!s||r<=s.offset+s.length){var u=Bo(t.parent);this.contributions.forEach(function(e){var t=e.collectValueCompletions(n.uri,u,a,i);t&&o.push(t)})}}}else this.contributions.forEach(function(e){var t=e.collectDefaultCompletions(n.uri,i);t&&o.push(t)})};e.prototype.addSchemaValueCompletions=function(e,t,r,n){var i=this;if("object"==typeof e){this.addEnumValueCompletions(e,t,r);this.addDefaultValueCompletions(e,t,r);this.collectTypes(e,n);Array.isArray(e.allOf)&&e.allOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,r,n)});Array.isArray(e.anyOf)&&e.anyOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,r,n)});Array.isArray(e.oneOf)&&e.oneOf.forEach(function(e){return i.addSchemaValueCompletions(e,t,r,n)})}};e.prototype.addDefaultValueCompletions=function(e,t,r,n){var i=this;void 0===n&&(n=0);var o=!1;if(lo(e.default)){var a=e.type;var s=e.default;for(var u=n;u>0;u--){s=[s];a="array"}r.add({kind:this.getSuggestionKind(a),label:this.getLabelForValue(s),insertText:this.getInsertTextForValue(s,t),insertTextFormat:ei.Snippet,detail:Zo("json.suggest.default","Default value")});o=!0}Array.isArray(e.examples)&&e.examples.forEach(function(a){var s=e.type;var u=a;for(var c=n;c>0;c--){u=[u];s="array"}r.add({kind:i.getSuggestionKind(s),label:i.getLabelForValue(u),insertText:i.getInsertTextForValue(u,t),insertTextFormat:ei.Snippet});o=!0});Array.isArray(e.defaultSnippets)&&e.defaultSnippets.forEach(function(a){var s=e.type;var u=a.body;var c=a.label;var f;var l;if(lo(u)){var h=e.type;for(var d=n;d>0;d--){u=[u];h="array"}f=i.getInsertTextForSnippetValue(u,t);l=i.getFilterTextForSnippetValue(u);c=c||i.getLabelForSnippetValue(u)}else if("string"==typeof a.bodyText){var p="",m="",v="";for(var d=n;d>0;d--){p=p+v+"[\n";m=m+"\n"+v+"]";v+="\t";s="array"}f=p+v+a.bodyText.split("\n").join("\n"+v)+m+t;c=c||i.sanitizeLabel(f),l=f.replace(/[\n]/g,"")}r.add({kind:i.getSuggestionKind(s),label:c,documentation:i.fromMarkup(a.markdownDescription)||a.description,insertText:f,insertTextFormat:ei.Snippet,filterText:l});o=!0});o||"object"!=typeof e.items||Array.isArray(e.items)||this.addDefaultValueCompletions(e.items,t,r,n+1)};e.prototype.addEnumValueCompletions=function(e,t,r){lo(e.const)&&r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(e.const),insertText:this.getInsertTextForValue(e.const,t),insertTextFormat:ei.Snippet,documentation:this.fromMarkup(e.markdownDescription)||e.description});if(Array.isArray(e.enum))for(var n=0,i=e.enum.length;n<i;n++){var o=e.enum[n];var a=this.fromMarkup(e.markdownDescription)||e.description;e.markdownEnumDescriptions&&n<e.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?a=this.fromMarkup(e.markdownEnumDescriptions[n]):e.enumDescriptions&&n<e.enumDescriptions.length&&(a=e.enumDescriptions[n]);r.add({kind:this.getSuggestionKind(e.type),label:this.getLabelForValue(o),insertText:this.getInsertTextForValue(o,t),insertTextFormat:ei.Snippet,documentation:a})}};e.prototype.collectTypes=function(e,t){if(Array.isArray(e.enum)||lo(e.const))return;var r=e.type;Array.isArray(r)?r.forEach(function(e){return t[e]=!0}):t[r]=!0};e.prototype.addFillerValueCompletions=function(e,t,r){e["object"]&&r.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},t),insertTextFormat:ei.Snippet,detail:Zo("defaults.object","New object"),documentation:""});e["array"]&&r.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],t),insertTextFormat:ei.Snippet,detail:Zo("defaults.array","New array"),documentation:""})};e.prototype.addBooleanValueCompletion=function(e,t,r){r.add({kind:this.getSuggestionKind("boolean"),label:e?"true":"false",insertText:this.getInsertTextForValue(e,t),insertTextFormat:ei.Snippet,documentation:""})};e.prototype.addNullValueCompletion=function(e,t){t.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+e,insertTextFormat:ei.Snippet,documentation:""})};e.prototype.addDollarSchemaCompletions=function(e,t){var r=this;var n;this.schemaService.getRegisteredSchemaIds(function(e){return"http"===e||"https"===e}).forEach(function(n){return t.add({kind:Zn.Module,label:r.getLabelForValue(n),filterText:r.getFilterTextForValue(n),insertText:r.getInsertTextForValue(n,e),insertTextFormat:ei.Snippet,documentation:""})})};e.prototype.sanitizeLabel=function(e){(e=e.replace(/[\n]/g,"")).length>57&&(e=e.substr(0,57).trim()+"...");return e};e.prototype.getLabelForValue=function(e){return this.sanitizeLabel(JSON.stringify(e))};e.prototype.getFilterTextForValue=function(e){return JSON.stringify(e)};e.prototype.getFilterTextForSnippetValue=function(e){return JSON.stringify(e).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")};e.prototype.getLabelForSnippetValue=function(e){var t=JSON.stringify(e);t=t.replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1");return this.sanitizeLabel(t)};e.prototype.getInsertTextForPlainText=function(e){return e.replace(/[\\\$\}]/g,"\\$&")};e.prototype.getInsertTextForValue=function(e,t){var r=JSON.stringify(e,null,"\t");if("{}"===r)return"{$1}"+t;if("[]"===r)return"[$1]"+t;return this.getInsertTextForPlainText(r+t)};e.prototype.getInsertTextForSnippetValue=function(e,t){var r;return zo(e,"",function(e){if("string"==typeof e&&"^"===e[0])return e.substr(1);return JSON.stringify(e)})+t};e.prototype.getInsertTextForGuessedValue=function(e,t){switch(typeof e){case"object":if(null===e)return"${1:null}"+t;return this.getInsertTextForValue(e,t);case"string":var r=JSON.stringify(e);r=r.substr(1,r.length-2);return'"${1:'+(r=this.getInsertTextForPlainText(r))+'}"'+t;case"number":case"boolean":return"${1:"+JSON.stringify(e)+"}"+t}return this.getInsertTextForValue(e,t)};e.prototype.getSuggestionKind=function(e){if(Array.isArray(e)){var t=e;e=t.length>0?t[0]:null}if(!e)return Zn.Value;switch(e){case"string":return Zn.Value;case"object":return Zn.Module;case"property":return Zn.Property;default:return Zn.Value}};e.prototype.getLabelTextForMatchingNode=function(e,t){switch(e.type){case"array":return"[]";case"object":return"{}";default:var r;return t.getText().substr(e.offset,e.length)}};e.prototype.getInsertTextForMatchingNode=function(e,t,r){switch(e.type){case"array":return this.getInsertTextForValue([],r);case"object":return this.getInsertTextForValue({},r);default:var n=t.getText().substr(e.offset,e.length)+r;return this.getInsertTextForPlainText(n)}};e.prototype.getInsertTextForProperty=function(e,t,r,n){var i=this.getInsertTextForValue(e,"");if(!r)return i;var o=i+": ";var a;var s=0;if(t){if(Array.isArray(t.defaultSnippets)){if(1===t.defaultSnippets.length){var u=t.defaultSnippets[0].body;lo(u)&&(a=this.getInsertTextForSnippetValue(u,""))}s+=t.defaultSnippets.length}if(t.enum){a||1!==t.enum.length||(a=this.getInsertTextForGuessedValue(t.enum[0],""));s+=t.enum.length}if(lo(t.default)){a||(a=this.getInsertTextForGuessedValue(t.default,""));s++}if(0===s){var c=Array.isArray(t.type)?t.type[0]:t.type;c||(t.properties?c="object":t.items&&(c="array"));switch(c){case"boolean":a="$1";break;case"string":a='"$1"';break;case"object":a="{$1}";break;case"array":a="[$1]";break;case"number":case"integer":a="${1:0}";break;case"null":a="${1:null}";break;default:return i}}}(!a||s>1)&&(a="$1");return o+a+n};e.prototype.getCurrentWord=function(e,t){var r=t-1;var n=e.getText();for(;r>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(n.charAt(r));)r--;return n.substring(r+1,t)};e.prototype.evaluateSeparatorAfter=function(e,t){var r=Gi(e.getText(),!0);r.setPosition(t);var n;switch(r.scan()){case 5:case 2:case 4:case 17:return"";default:return","}};e.prototype.findItemAtOffset=function(e,t,r){var n=Gi(t.getText(),!0);var i=e.items;for(var o=i.length-1;o>=0;o--){var a=i[o];if(r>a.offset+a.length){n.setPosition(a.offset+a.length);var s;if(5===n.scan()&&r>=n.getTokenOffset()+n.getTokenLength())return o+1;return o}if(r>=a.offset)return o}return 0};e.prototype.isInComment=function(e,t,r){var n=Gi(e.getText(),!1);n.setPosition(t);var i=n.scan();for(;17!==i&&n.getTokenOffset()+n.getTokenLength()<r;)i=n.scan();return(12===i||13===i)&&n.getTokenOffset()<=r};e.prototype.fromMarkup=function(e){if(e&&this.doesSupportMarkdown())return{kind:Qn.Markdown,value:e};return};e.prototype.doesSupportMarkdown=function(){if(!lo(this.supportsMarkdown)){var e=this.clientCapabilities.textDocument&&this.clientCapabilities.textDocument.completion;this.supportsMarkdown=e&&e.completionItem&&Array.isArray(e.completionItem.documentationFormat)&&-1!==e.completionItem.documentationFormat.indexOf(Qn.Markdown)}return this.supportsMarkdown};return e}();var ta=function(){function e(e,t,r){void 0===t&&(t=[]);this.schemaService=e;this.contributions=t;this.promise=r||Promise}e.prototype.doHover=function(e,t,r){var n=e.offsetAt(t);var i=r.getNodeFromOffset(n);if(!i||("object"===i.type||"array"===i.type)&&n>i.offset+1&&n<i.offset+i.length-1)return this.promise.resolve(null);var o=i;if("string"===i.type){var a=i.parent;if(a&&"property"===a.type&&a.keyNode===i&&!(i=a.valueNode))return this.promise.resolve(null)}var s=Ln.create(e.positionAt(o.offset),e.positionAt(o.offset+o.length));var u=function(e){var t;return{contents:e,range:s}};var c=Bo(i);for(var f=this.contributions.length-1;f>=0;f--){var l;var h=this.contributions[f].getInfoContribution(e.uri,c);if(h)return h.then(function(e){return u(e)})}return this.schemaService.getSchemaForResource(e.uri,r).then(function(e){if(e){var t;var n=null;var o=null;var a=null,s=null;r.getMatchingSchemas(e.schema,i.offset).every(function(e){if(e.node===i&&!e.inverted&&e.schema){n=n||e.schema.title;o=o||e.schema.markdownDescription||ra(e.schema.description);if(e.schema.enum){var t=e.schema.enum.indexOf(Ko(i));e.schema.markdownEnumDescriptions?a=e.schema.markdownEnumDescriptions[t]:e.schema.enumDescriptions&&(a=ra(e.schema.enumDescriptions[t]));a&&"string"!=typeof(s=e.schema.enum[t])&&(s=JSON.stringify(s))}}return!0});var c="";n&&(c=ra(n));if(o){c.length>0&&(c+="\n\n");c+=o}if(a){c.length>0&&(c+="\n\n");c+="`"+ra(s)+"`: "+a}return u([c])}return null})};return e}();function ra(e){if(e){var t;return e.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}return}var na=Co();var ia=function(){function e(e){try{this.patternRegExp=new RegExp(Qo(e)+"$")}catch(e){this.patternRegExp=null}this.schemas=[]}e.prototype.addSchema=function(e){this.schemas.push(e)};e.prototype.matchesPattern=function(e){return this.patternRegExp&&this.patternRegExp.test(e)};e.prototype.getSchemas=function(){return this.schemas};return e}();var oa=function(){function e(e,t,r){this.service=e;this.url=t;this.dependencies={};r&&(this.unresolvedSchema=this.service.promise.resolve(new aa(r)))}e.prototype.getUnresolvedSchema=function(){this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.url));return this.unresolvedSchema};e.prototype.getResolvedSchema=function(){var e=this;this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(function(t){return e.service.resolveSchemaContent(t,e.url,e.dependencies)}));return this.resolvedSchema};e.prototype.clearSchema=function(){this.resolvedSchema=null;this.unresolvedSchema=null;this.dependencies={}};return e}();var aa=function(){function e(e,t){void 0===t&&(t=[]);this.schema=e;this.errors=t}return e}();var sa=function(){function e(e,t){void 0===t&&(t=[]);this.schema=e;this.errors=t}e.prototype.getSection=function(e){return Ro(this.getSectionRecursive(e,this.schema))};e.prototype.getSectionRecursive=function(e,t){if(!t||"boolean"==typeof t||0===e.length)return t;var r=e.shift();if(t.properties&&(t.properties[r],1))return this.getSectionRecursive(e,t.properties[r]);if(t.patternProperties)for(var n=0,i=Object.keys(t.patternProperties);n<i.length;n++){var o=i[n];var a;if(new RegExp(o).test(r))return this.getSectionRecursive(e,t.patternProperties[o])}else{if("object"==typeof t.additionalProperties)return this.getSectionRecursive(e,t.additionalProperties);if(r.match("[0-9]+"))if(Array.isArray(t.items)){var s=parseInt(r,10);if(!isNaN(s)&&t.items[s])return this.getSectionRecursive(e,t.items[s])}else if(t.items)return this.getSectionRecursive(e,t.items)}return null};return e}();var ua=function(){function e(e,t,r){this.contextService=t;this.requestService=e;this.promiseConstructor=r||Promise;this.callOnDispose=[];this.contributionSchemas={};this.contributionAssociations={};this.schemasById={};this.filePatternAssociations=[];this.filePatternAssociationById={};this.registeredSchemasIds={}}e.prototype.getRegisteredSchemaIds=function(e){return Object.keys(this.registeredSchemasIds).filter(function(t){var r=Eo["a"].parse(t).scheme;return"schemaservice"!==r&&(!e||e(r))})};Object.defineProperty(e.prototype,"promise",{get:function(){return this.promiseConstructor},enumerable:!0,configurable:!0});e.prototype.dispose=function(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()};e.prototype.onResourceChange=function(e){var t=this;var r=!1;var n=[e=this.normalizeId(e)];var i=Object.keys(this.schemasById).map(function(e){return t.schemasById[e]});for(;n.length;){var o=n.pop();for(var a=0;a<i.length;a++){var s=i[a];if(s&&(s.url===o||s.dependencies[o])){s.url!==o&&n.push(s.url);s.clearSchema();i[a]=void 0;r=!0}}}return r};e.prototype.normalizeId=function(e){return Eo["a"].parse(e).toString()};e.prototype.setSchemaContributions=function(e){if(e.schemas){var t=e.schemas;for(var r in t){var n=this.normalizeId(r);this.contributionSchemas[n]=this.addSchemaHandle(n,t[r])}}if(e.schemaAssociations){var i=e.schemaAssociations;for(var o in i){var a=i[o];this.contributionAssociations[o]=a;var s=this.getOrAddFilePatternAssociation(o);for(var u=0,c=a;u<c.length;u++){var f=c[u];var r=this.normalizeId(f);s.addSchema(r)}}}};e.prototype.addSchemaHandle=function(e,t){var r=new oa(this,e,t);this.schemasById[e]=r;return r};e.prototype.getOrAddSchemaHandle=function(e,t){return this.schemasById[e]||this.addSchemaHandle(e,t)};e.prototype.getOrAddFilePatternAssociation=function(e){var t=this.filePatternAssociationById[e];if(!t){t=new ia(e);this.filePatternAssociationById[e]=t;this.filePatternAssociations.push(t)}return t};e.prototype.registerExternalSchema=function(e,t,r){void 0===t&&(t=null);var n=this.normalizeId(e);this.registeredSchemasIds[n]=!0;if(t)for(var i=0,o=t;i<o.length;i++){var a=o[i];this.getOrAddFilePatternAssociation(a).addSchema(n)}return r?this.addSchemaHandle(n,r):this.getOrAddSchemaHandle(n)};e.prototype.clearExternalSchemas=function(){this.schemasById={};this.filePatternAssociations=[];this.filePatternAssociationById={};this.registeredSchemasIds={};for(var e in this.contributionSchemas){this.schemasById[e]=this.contributionSchemas[e];this.registeredSchemasIds[e]=!0}for(var t in this.contributionAssociations){var r=this.getOrAddFilePatternAssociation(t);for(var n=0,i=this.contributionAssociations[t];n<i.length;n++){var o=i[n];var e=this.normalizeId(o);r.addSchema(e)}}};e.prototype.getResolvedSchema=function(e){var t=this.normalizeId(e);var r=this.schemasById[t];if(r)return r.getResolvedSchema();return this.promise.resolve(null)};e.prototype.loadSchema=function(e){if(!this.requestService){var t=na("json.schema.norequestservice","Unable to load schema from '{0}'. No schema request service available",ca(e));return this.promise.resolve(new aa({},[t]))}return this.requestService(e).then(function(t){if(!t){var r=na("json.schema.nocontent","Unable to load schema from '{0}': No content.",ca(e));return new aa({},[r])}var n={};var i=[];n=Qi(t,i);var o=i.length?[na("json.schema.invalidFormat","Unable to parse content from '{0}': Parse error at offset {1}.",ca(e),i[0].offset)]:[];return new aa(n,o)},function(e){var t=e.toString();var r=e.toString().split("Error: ");r.length>1&&(t=r[1]);return new aa({},[t])})};e.prototype.resolveSchemaContent=function(e,t,r){var n=this;var i=e.errors.slice(0);var o=e.schema;var a=this.contextService;var s=function(e,t){if(!t)return e;var r=e;"/"===t[0]&&(t=t.substr(1));t.split("/").some(function(e){return!(r=r[e])});return r};var u=function(e,t,r,n){var o=s(t,n);if(o)for(var a in o)o.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(e[a]=o[a]);else i.push(na("json.schema.invalidref","$ref '{0}' in '{1}' can not be resolved.",n,r))};var c=function(e,t,r,o,s){a&&!/^\w+:\/\/.*/.test(t)&&(t=a.resolveRelativePath(t,o));t=n.normalizeId(t);var c=n.getOrAddSchemaHandle(t);return c.getUnresolvedSchema().then(function(n){s[t]=!0;if(n.errors.length){var o=r?t+"#"+r:t;i.push(na("json.schema.problemloadingref","Problems loading reference '{0}': {1}",o,n.errors[0]))}u(e,n.schema,t,r);return f(e,n.schema,t,c.dependencies)})};var f=function(e,t,r,i){if(!e||"object"!=typeof e)return Promise.resolve(null);var o=[e];var a=[];var s=[];var f=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r];"object"==typeof i&&o.push(i)}};var l=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r];if("object"==typeof i)for(var a in i){var s=i[a];"object"==typeof s&&o.push(s)}}};var h=function(){var e=[];for(var t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r];if(Array.isArray(i))for(var a=0,s=i;a<s.length;a++){var u=s[a];"object"==typeof u&&o.push(u)}}};var d=function(e){var n=[];for(;e.$ref;){var o=e.$ref;var a=o.split("#",2);delete e.$ref;if(a[0].length>0){s.push(c(e,a[0],a[1],r,i));return}if(-1===n.indexOf(o)){u(e,t,r,a[1]);n.push(o)}}f(e.items,e.additionalProperties,e.not,e.contains,e.propertyNames,e.if,e.then,e.else);l(e.definitions,e.properties,e.patternProperties,e.dependencies);h(e.anyOf,e.allOf,e.oneOf,e.items)};for(;o.length;){var p=o.pop();if(a.indexOf(p)>=0)continue;a.push(p);d(p)}return n.promise.all(s)};return f(o,o,t,r).then(function(e){return new sa(o,i)})};e.prototype.getSchemaForResource=function(e,t){if(t&&t.root&&"object"===t.root.type){var r=t.root.properties.filter(function(e){return"$schema"===e.keyNode.value&&e.valueNode&&"string"===e.valueNode.type});if(r.length>0){var n=Ko(r[0].valueNode);n&&Go(n,".")&&this.contextService&&(n=this.contextService.resolveRelativePath(n,e));if(n){var i=this.normalizeId(n);return this.getOrAddSchemaHandle(i).getResolvedSchema()}}}var o=Object.create(null);var a=[];for(var s=0,u=this.filePatternAssociations;s<u.length;s++){var c=u[s];if(c.matchesPattern(e))for(var f=0,l=c.getSchemas();f<l.length;f++){var h=l[f];if(!o[h]){a.push(h);o[h]=!0}}}if(a.length>0)return this.createCombinedSchema(e,a).getResolvedSchema();return this.promise.resolve(null)};e.prototype.createCombinedSchema=function(e,t){if(1===t.length)return this.getOrAddSchemaHandle(t[0]);var r="schemaservice://combinedSchema/"+encodeURIComponent(e);var n={allOf:t.map(function(e){return{$ref:e}})};return this.addSchemaHandle(r,n)};return e}();function ca(e){try{var t=Eo["a"].parse(e);if("file"===t.scheme)return t.fsPath}catch(e){}return e}var fa=Co();var la=function(){function e(e,t){this.jsonSchemaService=e;this.promise=t;this.validationEnabled=!0}e.prototype.configure=function(e){if(e){this.validationEnabled=e.validate;this.commentSeverity=e.allowComments?void 0:jn.Error}};e.prototype.doValidation=function(e,t,r,n){var i=this;if(!this.validationEnabled)return this.promise.resolve([]);var o=[];var a={};var s=function(e){var t=e.range.start.line+" "+e.range.start.character+" "+e.message;if(!a[t]){a[t]=!0;o.push(e)}};var u=function(n){var a=r?pa(r.trailingCommas):jn.Error;var u=r?pa(r.comments):i.commentSeverity;if(n){if(n.errors.length&&t.root){var c=t.root;var f="object"===c.type?c.properties[0]:null;if(f&&"$schema"===f.keyNode.value){var l=f.valueNode||f;var h=Ln.create(e.positionAt(l.offset),e.positionAt(l.offset+l.length));s(Dn.create(h,n.errors[0],jn.Warning,vo.SchemaResolveError))}else{var h=Ln.create(e.positionAt(c.offset),e.positionAt(c.offset+1));s(Dn.create(h,n.errors[0],jn.Warning,vo.SchemaResolveError))}}else{var d=t.validate(e,n.schema);d&&d.forEach(s)}da(n.schema)&&(a=u=void 0)}for(var p=0,m=t.syntaxErrors;p<m.length;p++){var v=m[p];if(v.code===vo.TrailingComma){if("number"!=typeof a)continue;v.severity=a}s(v)}if("number"==typeof u){var g=fa("InvalidCommentToken","Comments are not permitted in JSON.");t.comments.forEach(function(e){s(Dn.create(e,g,u,vo.CommentNotPermitted))})}return o};if(n){var c=n.id||"schemaservice://untitled/"+ha++;return this.jsonSchemaService.resolveSchemaContent(new aa(n),c,{}).then(function(e){return u(e)})}return this.jsonSchemaService.getSchemaForResource(e.uri,t).then(function(e){return u(e)})};return e}();var ha=0;function da(e){if(e&&"object"==typeof e){if(e.allowComments)return!0;if(e.allOf)return e.allOf.some(da)}return!1}function pa(e){switch(e){case"error":return jn.Error;case"warning":return jn.Warning;case"ignore":return}return}var ma=48;var va=57;var ga=65;var ya=97;var ba=102;function _a(e){if(e<ma)return 0;if(e<=va)return e-ma;e<ya&&(e+=ya-ga);if(e>=ya&&e<=ba)return e-ya+10;return 0}function Ca(e){if("#"!==e[0])return null;switch(e.length){case 4:return{red:17*_a(e.charCodeAt(1))/255,green:17*_a(e.charCodeAt(2))/255,blue:17*_a(e.charCodeAt(3))/255,alpha:1};case 5:return{red:17*_a(e.charCodeAt(1))/255,green:17*_a(e.charCodeAt(2))/255,blue:17*_a(e.charCodeAt(3))/255,alpha:17*_a(e.charCodeAt(4))/255};case 7:return{red:(16*_a(e.charCodeAt(1))+_a(e.charCodeAt(2)))/255,green:(16*_a(e.charCodeAt(3))+_a(e.charCodeAt(4)))/255,blue:(16*_a(e.charCodeAt(5))+_a(e.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*_a(e.charCodeAt(1))+_a(e.charCodeAt(2)))/255,green:(16*_a(e.charCodeAt(3))+_a(e.charCodeAt(4)))/255,blue:(16*_a(e.charCodeAt(5))+_a(e.charCodeAt(6)))/255,alpha:(16*_a(e.charCodeAt(7))+_a(e.charCodeAt(8)))/255}}return null}function Sa(e,t,r,n){void 0===n&&(n=1);return{red:e/255,green:t/255,blue:r/255,alpha:n}}var Ea=function(){function e(e){this.schemaService=e}e.prototype.findDocumentSymbols=function(e,t){var r=this;var n=t.root;if(!n)return null;var i=e.uri;if(("vscode://defaultsettings/keybindings.json"===i||Jo(i.toLowerCase(),"/user/keybindings.json"))&&"array"===n.type){var o=[];n.items.forEach(function(t){if("object"===t.type)for(var r=0,n=t.properties;r<n.length;r++){var i=n[r];if("key"===i.keyNode.value&&i.valueNode){if(i.valueNode){var a=Tn.create(e.uri,Aa(e,t));o.push({name:Ko(i.valueNode),kind:ci.Function,location:a})}return}}});return o}var a=function(t,n,i){"array"===n.type?n.items.forEach(function(e){return a(t,e,i)}):"object"===n.type&&n.properties.forEach(function(n){var o=Tn.create(e.uri,Aa(e,n));var s=n.valueNode;if(s){var u=i?i+"."+n.keyNode.value:n.keyNode.value;t.push({name:r.getKeyLabel(n),kind:r.getSymbolKind(s.type),location:o,containerName:i});a(t,s,u)}});return t};var s;return a([],n,void 0)};e.prototype.findDocumentSymbols2=function(e,t){var r=this;var n=t.root;if(!n)return null;var i=e.uri;if(("vscode://defaultsettings/keybindings.json"===i||Jo(i.toLowerCase(),"/user/keybindings.json"))&&"array"===n.type){var o=[];n.items.forEach(function(t){if("object"===t.type)for(var r=0,n=t.properties;r<n.length;r++){var i=n[r];if("key"===i.keyNode.value){if(i.valueNode){var a=Aa(e,t);var s=Aa(e,i.keyNode);o.push({name:Ko(i.valueNode),kind:ci.Function,range:a,selectionRange:s})}return}}});return o}var a=function(t,n){"array"===n.type?n.items.forEach(function(n,i){if(n){var o=Aa(e,n);var s=o;var u=String(i);var c=a([],n);t.push({name:u,kind:r.getSymbolKind(n.type),range:o,selectionRange:s,children:c})}}):"object"===n.type&&n.properties.forEach(function(n){var i=n.valueNode;if(i){var o=Aa(e,n);var s=Aa(e,n.keyNode);var u=a([],i);t.push({name:r.getKeyLabel(n),kind:r.getSymbolKind(i.type),range:o,selectionRange:s,children:u})}});return t};var s;return a([],n)};e.prototype.getSymbolKind=function(e){switch(e){case"object":return ci.Module;case"string":return ci.String;case"number":return ci.Number;case"array":return ci.Array;case"boolean":return ci.Boolean;default:return ci.Variable}};e.prototype.getKeyLabel=function(e){var t=e.keyNode.value;t&&(t=t.replace(/[\n]/g,""));if(t&&t.trim())return t;return'"'+t+'"'};e.prototype.findDocumentColors=function(e,t){return this.schemaService.getSchemaForResource(e.uri,t).then(function(r){var n=[];if(r){var i;var o={};for(var a=0,s=t.getMatchingSchemas(r.schema);a<s.length;a++){var u=s[a];if(!u.inverted&&u.schema&&("color"===u.schema.format||"color-hex"===u.schema.format)&&u.node&&"string"===u.node.type){var c=String(u.node.offset);if(!o[c]){var f=Ca(Ko(u.node));if(f){var l=Aa(e,u.node);n.push({color:f,range:l})}o[c]=!0}}}}return n})};e.prototype.getColorPresentations=function(e,t,r,n){var i=[];var o=Math.round(255*r.red),a=Math.round(255*r.green),s=Math.round(255*r.blue);function u(e){var t=e.toString(16);return 2!==t.length?"0"+t:t}var c;c=1===r.alpha?"#"+u(o)+u(a)+u(s):"#"+u(o)+u(a)+u(s)+u(Math.round(255*r.alpha));i.push({label:c,textEdit:Un.replace(n,JSON.stringify(c))});return i};return e}();function Aa(e,t){return Ln.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length))}var xa=Co();var Na={schemaAssociations:{},schemas:{"http://json-schema.org/draft-04/schema#":{title:xa("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{title:xa("schema.json","Describes a JSON file using a schema. See json-schema.org for more info."),definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}};var wa={id:xa("schema.json.id","A unique identifier for the schema."),$schema:xa("schema.json.$schema","The schema to verify this document against."),title:xa("schema.json.title","A descriptive title of the element."),description:xa("schema.json.description","A long description of the element. Used in hover menus and suggestions."),default:xa("schema.json.default","A default value. Used by suggestions."),multipleOf:xa("schema.json.multipleOf","A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:xa("schema.json.maximum","The maximum numerical value, inclusive by default."),exclusiveMaximum:xa("schema.json.exclusiveMaximum","Makes the maximum property exclusive."),minimum:xa("schema.json.minimum","The minimum numerical value, inclusive by default."),exclusiveMinimum:xa("schema.json.exclusiveMininum","Makes the minimum property exclusive."),maxLength:xa("schema.json.maxLength","The maximum length of a string."),minLength:xa("schema.json.minLength","The minimum length of a string."),pattern:xa("schema.json.pattern","A regular expression to match the string against. It is not implicitly anchored."),additionalItems:xa("schema.json.additionalItems","For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:xa("schema.json.items","For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:xa("schema.json.maxItems","The maximum number of items that can be inside an array. Inclusive."),minItems:xa("schema.json.minItems","The minimum number of items that can be inside an array. Inclusive."),uniqueItems:xa("schema.json.uniqueItems","If all of the items in the array must be unique. Defaults to false."),maxProperties:xa("schema.json.maxProperties","The maximum number of properties an object can have. Inclusive."),minProperties:xa("schema.json.minProperties","The minimum number of properties an object can have. Inclusive."),required:xa("schema.json.required","An array of strings that lists the names of all properties required on this object."),additionalProperties:xa("schema.json.additionalProperties","Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:xa("schema.json.definitions","Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:xa("schema.json.properties","A map of property names to schemas for each property."),patternProperties:xa("schema.json.patternProperties","A map of regular expressions on property names to schemas for matching properties."),dependencies:xa("schema.json.dependencies","A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:xa("schema.json.enum","The set of literal values that are valid."),type:xa("schema.json.type","Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:xa("schema.json.format","Describes the format expected for the value."),allOf:xa("schema.json.allOf","An array of schemas, all of which must match."),anyOf:xa("schema.json.anyOf","An array of schemas, where at least one must match."),oneOf:xa("schema.json.oneOf","An array of schemas, exactly one of which must match."),not:xa("schema.json.not","A schema which must not match."),$id:xa("schema.json.$id","A unique identifier for the schema."),$ref:xa("schema.json.$ref","Reference a definition hosted on any location."),$comment:xa("schema.json.$comment","Comments from schema authors to readers or maintainers of the schema."),readOnly:xa("schema.json.readOnly","Indicates that the value of the instance is managed exclusively by the owning authority."),examples:xa("schema.json.examples","Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:xa("schema.json.contains",'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:xa("schema.json.propertyNames","If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:xa("schema.json.const","An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:xa("schema.json.contentMediaType","Describes the media type of a string property."),contentEncoding:xa("schema.json.contentEncoding","Describes the content encoding of a string property."),if:xa("schema.json.if",'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:xa("schema.json.then",'The "if" subschema is used for validation when the "if" subschema succeeds.'),else:xa("schema.json.else",'The "else" subschema is used for validation when the "if" subschema fails.')};for(var La in Na.schemas){var Ta=Na.schemas[La];for(var ka in Ta.properties){var Oa=Ta.properties[ka];!0===Oa&&(Oa=Ta.properties[ka]={});var Ia=wa[ka];Ia?Oa["description"]=Ia:console.log(ka+": localize('schema.json."+ka+'\', "")')}}function Pa(e,t){var r=[];var n=[];var i=[];var o=-1;var a=Gi(e.getText(),!1);var s=a.scan();function u(e){r.push(e);n.push(i.length)}for(;17!==s;){switch(s){case 1:case 3:var c;var f={startLine:c=e.positionAt(a.getTokenOffset()).line,endLine:c,kind:1===s?"object":"array"};i.push(f);break;case 2:case 4:var l=2===s?"object":"array";if(i.length>0&&i[i.length-1].kind===l){var f=i.pop();var h=e.positionAt(a.getTokenOffset()).line;if(f&&h>f.startLine+1&&o!==f.startLine){f.endLine=h-1;u(f);o=f.startLine}}break;case 13:var c=e.positionAt(a.getTokenOffset()).line;var d=e.positionAt(a.getTokenOffset()+a.getTokenLength()).line;if(1===a.getTokenError()&&c+1<e.lineCount)a.setPosition(e.offsetAt(wn.create(c+1,0)));else if(c<d){u({startLine:c,endLine:d,kind:Mn.Comment});o=c}break;case 12:var p;var m=e.getText().substr(a.getTokenOffset(),a.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(m){var h=e.positionAt(a.getTokenOffset()).line;if(m[1]){var f={startLine:h,endLine:h,kind:Mn.Region};i.push(f)}else{var v=i.length-1;for(;v>=0&&i[v].kind!==Mn.Region;)v--;if(v>=0){var f=i[v];i.length=v;if(h>f.startLine&&o!==f.startLine){f.endLine=h;u(f);o=f.startLine}}}}}s=a.scan()}var g=t&&t.rangeLimit;if("number"!=typeof g||r.length<=g)return r;var y=[];for(var b=0,_=n;b<_.length;b++){var C;(C=_[b])<30&&(y[C]=(y[C]||0)+1)}var S=0;var E=0;for(var v=0;v<y.length;v++){var A=y[v];if(A){if(A+S>g){E=v;break}S+=A}}var x=[];for(var v=0;v<r.length;v++){var C;"number"==typeof(C=n[v])&&(C<E||C===E&&S++<g)&&x.push(r[v])}return x}function Ma(e,t,r){function n(t){var n=e.offsetAt(t);var o=r.getNodeFromOffset(n,!0);if(!o)return[];var s=[];for(;o;){switch(o.type){case"string":case"object":case"array":var u=o.offset+1,c=o.offset+o.length-1;u<c&&n>=u&&n<=c&&s.push(i(u,c));s.push(i(o.offset,o.offset+o.length));break;case"number":case"boolean":case"null":case"property":s.push(i(o.offset,o.offset+o.length))}if("property"===o.type||o.parent&&"array"===o.parent.type){var f=a(o.offset+o.length,5);-1!==f&&s.push(i(o.offset,f))}o=o.parent}return s}function i(t,r){return{range:Ln.create(e.positionAt(t),e.positionAt(r)),kind:mo.Declaration}}var o=Gi(e.getText(),!0);function a(e,t){o.setPosition(e);var r;if(o.scan()===t)return o.getTokenOffset()+o.getTokenLength();return-1}return t.map(n)}function Fa(e){var t=e.promiseConstructor||Promise;var r=new ua(e.schemaRequestService,e.workspaceContext,t);r.setSchemaContributions(Na);var n=new ea(r,e.contributions,t,e.clientCapabilities);var i=new ta(r,e.contributions,t);var o=new Ea(r);var a=new la(r,t);return{configure:function(e){r.clearExternalSchemas();e.schemas&&e.schemas.forEach(function(e){r.registerExternalSchema(e.uri,e.fileMatch,e.schema)});a.configure(e)},resetSchema:function(e){return r.onResourceChange(e)},doValidation:a.doValidation.bind(a),parseJSONDocument:function(e){return Ho(e,{collectComments:!0})},newJSONDocument:function(e,t){return qo(e,t)},doResolve:n.doResolve.bind(n),doComplete:n.doComplete.bind(n),findDocumentSymbols:o.findDocumentSymbols.bind(o),findDocumentSymbols2:o.findDocumentSymbols2.bind(o),findColorSymbols:function(e,t){return o.findDocumentColors(e,t).then(function(e){return e.map(function(e){return e.range})})},findDocumentColors:o.findDocumentColors.bind(o),getColorPresentations:o.getColorPresentations.bind(o),doHover:i.doHover.bind(i),getFoldingRanges:Pa,getSelectionRanges:Ma,format:function(e,t,r){var n=void 0;if(t){var i=e.offsetAt(t.start);var o;n={offset:i,length:e.offsetAt(t.end)-i}}var a={tabSize:r?r.tabSize:4,insertSpaces:!r||r.insertSpaces,eol:"\n"};return ao(e.getText(),n,a).map(function(t){return Un.replace(Ln.create(e.positionAt(t.offset),e.positionAt(t.offset+t.length)),t.content)})}}}var Ra;"undefined"!=typeof fetch&&(Ra=function(e){return fetch(e).then(function(e){return e.text()})});var ja=function(){function e(e){this.wrapped=new Promise(e)}e.prototype.then=function(e,t){var r;return this.wrapped.then(e,t)};e.prototype.getWrapped=function(){return this.wrapped};e.resolve=function(e){return Promise.resolve(e)};e.reject=function(e){return Promise.reject(e)};e.all=function(e){return Promise.all(e)};return e}();var Da=function(){function e(e,t){this._ctx=e;this._languageSettings=t.languageSettings;this._languageId=t.languageId;this._languageService=Fa({schemaRequestService:t.enableSchemaRequest&&Ra,promiseConstructor:ja});this._languageService.configure(this._languageSettings)}e.prototype.doValidation=function(e){var t=this._getTextDocument(e);if(t){var r=this._languageService.parseJSONDocument(t);return this._languageService.doValidation(t,r)}return Promise.resolve([])};e.prototype.doComplete=function(e,t){var r=this._getTextDocument(e);var n=this._languageService.parseJSONDocument(r);return this._languageService.doComplete(r,t,n)};e.prototype.doResolve=function(e){return this._languageService.doResolve(e)};e.prototype.doHover=function(e,t){var r=this._getTextDocument(e);var n=this._languageService.parseJSONDocument(r);return this._languageService.doHover(r,t,n)};e.prototype.format=function(e,t,r){var n=this._getTextDocument(e);var i=this._languageService.format(n,t,r);return Promise.resolve(i)};e.prototype.resetSchema=function(e){return Promise.resolve(this._languageService.resetSchema(e))};e.prototype.findDocumentSymbols=function(e){var t=this._getTextDocument(e);var r=this._languageService.parseJSONDocument(t);var n=this._languageService.findDocumentSymbols(t,r);return Promise.resolve(n)};e.prototype.findDocumentColors=function(e){var t=this._getTextDocument(e);var r=this._languageService.parseJSONDocument(t);var n=this._languageService.findDocumentColors(t,r);return Promise.resolve(n)};e.prototype.getColorPresentations=function(e,t,r){var n=this._getTextDocument(e);var i=this._languageService.parseJSONDocument(n);var o=this._languageService.getColorPresentations(n,i,t,r);return Promise.resolve(o)};e.prototype.provideFoldingRanges=function(e,t){var r=this._getTextDocument(e);var n=this._languageService.getFoldingRanges(r,t);return Promise.resolve(n)};e.prototype._getTextDocument=function(e){var t;for(var r=0,n=this._ctx.getMirrorModels();r<n.length;r++){var i=n[r];if(i.uri.toString()===e)return bi.create(e,this._languageId,i.version,i.getValue())}return null};return e}();function Va(e,t){return new Da(e,t)}self.onmessage=function(){Nn(function(e,t){return new Da(e,t)})}},I0YP:function(e,t,r){(function(e,t){
/*!
Copyright (c) 2014 Taylor Hakes
Copyright (c) 2014 Forbes Lindesay
 */
!function(e,t){t()}(this,function(){"use strict";function r(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}var n=setTimeout;function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=void 0;this._deferreds=[];h(e,this)}function s(e,t){for(;3===e._state;)e=e._value;if(0===e._state){e._deferreds.push(t);return}e._handled=!0;a._immediateFn(function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null===r){(1===e._state?u:c)(t.promise,e._value);return}var n;try{n=r(e._value)}catch(e){c(t.promise,e);return}u(t.promise,n)})}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof a){e._state=3;e._value=t;f(e);return}if("function"==typeof r){h(o(r,t),e);return}}e._state=1;e._value=t;f(e)}catch(t){c(e,t)}}function c(e,t){e._state=2;e._value=t;f(e)}function f(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)s(e,e._deferreds[t]);e._deferreds=null}function l(e,t,r){this.onFulfilled="function"==typeof e?e:null;this.onRejected="function"==typeof t?t:null;this.promise=r}function h(e,t){var r=!1;try{e(function(e){if(r)return;r=!0;u(t,e)},function(e){if(r)return;r=!0;c(t,e)})}catch(e){if(r)return;r=!0;c(t,e)}}a.prototype["catch"]=function(e){return this.then(null,e)};a.prototype.then=function(e,t){var r=new this.constructor(i);s(this,new l(e,t,r));return r};a.prototype["finally"]=r;a.all=function(e){return new a(function(t,r){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s){s.call(a,function(t){o(e,t)},r);return}}n[e]=a;0==--i&&t(n)}catch(e){r(e)}}for(var a=0;a<n.length;a++)o(a,n[a])})};a.resolve=function(e){if(e&&"object"==typeof e&&e.constructor===a)return e;return new a(function(t){t(e)})};a.reject=function(e){return new a(function(t,r){r(e)})};a.race=function(e){return new a(function(t,r){for(var n=0,i=e.length;n<i;n++)e[n].then(t,r)})};a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){n(e,0)};a._unhandledRejectionFn=function e(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var d=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"Promise"in d?d.Promise.prototype["finally"]||(d.Promise.prototype["finally"]=r):d["Promise"]=a})}).call(this,r("/Qos").setImmediate,r("fRV1"))},SMqw:function(e,t,r){"use strict";(function(e,n){r.d(t,"c",function(){return b});r.d(t,"b",function(){return E});r.d(t,"a",function(){return x});var i="en";var o=!1;var a=!1;var s=!1;var u=!1;var c=!1;var f=void 0;var l="en";var h=void 0;var d=void 0!==e&&void 0!==e.versions&&void 0!==e.versions.electron&&"renderer"===e.type;if("object"!=typeof navigator||d){if("object"==typeof e){o="win32"===e.platform;a="darwin"===e.platform;s="linux"===e.platform;f="en";l="en";var p=e.env["VSCODE_NLS_CONFIG"];if(p)try{var m=JSON.parse(p);var v=m.availableLanguages["*"];f=m.locale;l=v||"en";h=m._translationsConfigFile}catch(e){}u=!0}}else{var g=navigator.userAgent;o=g.indexOf("Windows")>=0;a=g.indexOf("Macintosh")>=0;s=g.indexOf("Linux")>=0;c=!0;l=f=navigator.language}var y=0;u&&(a?y=1:o?y=3:s&&(y=2));var b=o;var _=a;var C=s;var S=u;var E=c;var A;var x="object"==typeof self?self:"object"==typeof n?n:{};var N=null;function w(t){null===N&&(N=x.setImmediate?x.setImmediate.bind(x):void 0!==e&&"function"==typeof e.nextTick?e.nextTick.bind(e):x.setTimeout.bind(x));return N(t)}var L=a?2:o?1:3}).call(this,r("F63i"),r("fRV1"))},fR4H:function(e,t,r){"use strict";(function(e){var r=(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});var n;var i;if("object"==typeof e)i="win32"===e.platform;else if("object"==typeof navigator){var o=navigator.userAgent;i=o.indexOf("Windows")>=0}var a=/^\w[\w\d+.-]*$/;var s=/^\//;var u=/^\/\//;function c(e){if(e.scheme&&!a.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!s.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}function f(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==h&&(t=h+t):t=h}return t}var l="";var h="/";var d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;var p=function(){function e(e,t,r,n,i){if("object"==typeof e){this.scheme=e.scheme||l;this.authority=e.authority||l;this.path=e.path||l;this.query=e.query||l;this.fragment=e.fragment||l}else{this.scheme=e||l;this.authority=t||l;this.path=f(this.scheme,r||l);this.query=n||l;this.fragment=i||l;c(this)}}e.isUri=function(t){if(t instanceof e)return!0;if(!t)return!1;return"string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme};Object.defineProperty(e.prototype,"fsPath",{get:function(){return b(this)},enumerable:!0,configurable:!0});e.prototype.with=function(e){if(!e)return this;var t=e.scheme,r=e.authority,n=e.path,i=e.query,o=e.fragment;void 0===t?t=this.scheme:null===t&&(t=l);void 0===r?r=this.authority:null===r&&(r=l);void 0===n?n=this.path:null===n&&(n=l);void 0===i?i=this.query:null===i&&(i=l);void 0===o?o=this.fragment:null===o&&(o=l);if(t===this.scheme&&r===this.authority&&n===this.path&&i===this.query&&o===this.fragment)return this;return new m(t,r,n,i,o)};e.parse=function(e){var t=d.exec(e);if(!t)return new m(l,l,l,l,l);return new m(t[2]||l,decodeURIComponent(t[4]||l),decodeURIComponent(t[5]||l),decodeURIComponent(t[7]||l),decodeURIComponent(t[9]||l))};e.file=function(e){var t=l;i&&(e=e.replace(/\\/g,h));if(e[0]===h&&e[1]===h){var r=e.indexOf(h,2);if(-1===r){t=e.substring(2);e=h}else{t=e.substring(2,r);e=e.substring(r)||h}}return new m("file",t,e,l,l)};e.from=function(e){return new m(e.scheme,e.authority,e.path,e.query,e.fragment)};e.prototype.toString=function(e){void 0===e&&(e=!1);return _(this,e)};e.prototype.toJSON=function(){return this};e.revive=function(t){if(t){if(t instanceof e)return t;var r=new m(t);r._fsPath=t.fsPath;r._formatted=t.external;return r}return t};return e}();t["a"]=p;var m=function(e){r(t,e);function t(){var t=null!==e&&e.apply(this,arguments)||this;t._formatted=null;t._fsPath=null;return t}Object.defineProperty(t.prototype,"fsPath",{get:function(){this._fsPath||(this._fsPath=b(this));return this._fsPath},enumerable:!0,configurable:!0});t.prototype.toString=function(e){void 0===e&&(e=!1);if(e)return _(this,!0);this._formatted||(this._formatted=_(this,!1));return this._formatted};t.prototype.toJSON=function(){var e={$mid:1};this._fsPath&&(e.fsPath=this._fsPath);this._formatted&&(e.external=this._formatted);this.path&&(e.path=this.path);this.scheme&&(e.scheme=this.scheme);this.authority&&(e.authority=this.authority);this.query&&(e.query=this.query);this.fragment&&(e.fragment=this.fragment);return e};return t}(p);var v=((C={})[58]="%3A",C[47]="%2F",C[63]="%3F",C[35]="%23",C[91]="%5B",C[93]="%5D",C[64]="%40",C[33]="%21",C[36]="%24",C[38]="%26",C[39]="%27",C[40]="%28",C[41]="%29",C[42]="%2A",C[43]="%2B",C[44]="%2C",C[59]="%3B",C[61]="%3D",C[32]="%20",C);function g(e,t){var r=void 0;var n=-1;for(var i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o){if(-1!==n){r+=encodeURIComponent(e.substring(n,i));n=-1}void 0!==r&&(r+=e.charAt(i))}else{void 0===r&&(r=e.substr(0,i));var a=v[o];if(void 0!==a){if(-1!==n){r+=encodeURIComponent(e.substring(n,i));n=-1}r+=a}else-1===n&&(n=i)}}-1!==n&&(r+=encodeURIComponent(e.substring(n)));return void 0!==r?r:e}function y(e){var t=void 0;for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);if(35===n||63===n){void 0===t&&(t=e.substr(0,r));t+=v[n]}else void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function b(e){var t;t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path;i&&(t=t.replace(/\//g,"\\"));return t}function _(e,t){var r=t?y:g;var n="";var i=e.scheme,o=e.authority,a=e.path,s=e.query,u=e.fragment;if(i){n+=i;n+=":"}if(o||"file"===i){n+=h;n+=h}if(o){var c=o.indexOf("@");if(-1!==c){var f=o.substr(0,c);o=o.substr(c+1);if(-1===(c=f.indexOf(":")))n+=r(f,!1);else{n+=r(f.substr(0,c),!1);n+=":";n+=r(f.substr(c+1),!1)}n+="@"}if(-1===(c=(o=o.toLowerCase()).indexOf(":")))n+=r(o,!1);else{n+=r(o.substr(0,c),!1);n+=o.substr(c)}}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2)){var l;(l=a.charCodeAt(1))>=65&&l<=90&&(a="/"+String.fromCharCode(l+32)+":"+a.substr(3))}else if(a.length>=2&&58===a.charCodeAt(1)){var l;(l=a.charCodeAt(0))>=65&&l<=90&&(a=String.fromCharCode(l+32)+":"+a.substr(2))}n+=r(a,!0)}if(s){n+="?";n+=r(s,!1)}if(u){n+="#";n+=t?u:g(u,!1)}return n}var C}).call(this,r("F63i"))},fRV1:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},gIIS:function(e,t,r){(function(e,t){!function(e,r){"use strict";if(e.setImmediate)return;var n=1;var i={};var o=!1;var a=e.document;var s;function u(e){"function"!=typeof e&&(e=new Function(""+e));var t=new Array(arguments.length-1);for(var r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};i[n]=o;s(n);return n++}function c(e){delete i[e]}function f(e){var t=e.callback;var n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}function l(e){if(o)setTimeout(l,0,e);else{var t=i[e];if(t){o=!0;try{f(t)}finally{c(e);o=!1}}}}function h(){s=function(e){t.nextTick(function(){l(e)})}}function d(){if(e.postMessage&&!e.importScripts){var t=!0;var r=e.onmessage;e.onmessage=function(){t=!1};e.postMessage("","*");e.onmessage=r;return t}}function p(){var t="setImmediate$"+Math.random()+"$";var r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r);s=function(r){e.postMessage(t+r,"*")}}function m(){var e=new MessageChannel;e.port1.onmessage=function(e){var t;l(e.data)};s=function(t){e.port2.postMessage(t)}}function v(){var e=a.documentElement;s=function(t){var r=a.createElement("script");r.onreadystatechange=function(){l(t);r.onreadystatechange=null;e.removeChild(r);r=null};e.appendChild(r)}}function g(){s=function(e){setTimeout(l,0,e)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e;"[object process]"==={}.toString.call(e.process)?h():d()?p():e.MessageChannel?m():a&&"onreadystatechange"in a.createElement("script")?v():g();y.setImmediate=u;y.clearImmediate=c}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r("fRV1"),r("F63i"))}});
//# sourceMappingURL=json.worker.js.map